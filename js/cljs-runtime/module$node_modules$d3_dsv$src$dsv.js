shadow$provide.module$node_modules$d3_dsv$src$dsv=function(global,require,module,exports){function objectConverter(columns){return new Function("d","return {"+columns.map(function(name,i){return JSON.stringify(name)+": d["+i+'] || ""'}).join(",")+"}")}function customConverter(columns,f){var object=objectConverter(columns);return function(row,i){return f(object(row),i,columns)}}function inferColumns(rows){var columnSet=Object.create(null),columns=[];rows.forEach(function(row){for(var column in row)column in
columnSet||columns.push(columnSet[column]=column)});return columns}function pad(value,width){value+="";var length=value.length;return length<width?Array(width-length+1).join(0)+value:value}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(delimiter){function parseRows(text,f){function token(){if(eof)return EOF;if(eol)return eol=!1,EOL;var i,j=I,c;if(text.charCodeAt(j)===QUOTE){for(;I++<N&&text.charCodeAt(I)!==QUOTE||text.charCodeAt(++I)===QUOTE;);(i=I)>=N?eof=!0:(c=text.charCodeAt(I++))===
NEWLINE?eol=!0:c===RETURN&&(eol=!0,text.charCodeAt(I)===NEWLINE&&++I);return text.slice(j+1,i-1).replace(/""/g,'"')}for(;I<N;){if((c=text.charCodeAt(i=I++))===NEWLINE)eol=!0;else if(c===RETURN)eol=!0,text.charCodeAt(I)===NEWLINE&&++I;else if(c!==DELIMITER)continue;return text.slice(j,i)}return eof=!0,text.slice(j,N)}var rows=[],N=text.length,I=0,n=0,t,eof=0>=N,eol=!1;text.charCodeAt(N-1)===NEWLINE&&--N;for(text.charCodeAt(N-1)===RETURN&&--N;(t=token())!==EOF;){for(var row=[];t!==EOL&&t!==EOF;)row.push(t),
t=token();f&&null==(row=f(row,n++))||rows.push(row)}return rows}function preformatBody(rows,columns){return rows.map(function(row){return columns.map(function(column){return formatValue(row[column])}).join(delimiter)})}function formatRow(row){return row.map(formatValue).join(delimiter)}function formatValue(value){if(null==value)value="";else{if(value instanceof Date){var JSCompiler_temp=value.getUTCHours();var minutes=value.getUTCMinutes(),seconds=value.getUTCSeconds(),milliseconds=value.getUTCMilliseconds();
if(isNaN(value))value="Invalid Date";else{var year=value.getUTCFullYear();value=(0>year?"-"+pad(-year,6):9999<year?"+"+pad(year,6):pad(year,4))+"-"+pad(value.getUTCMonth()+1,2)+"-"+pad(value.getUTCDate(),2)+(milliseconds?"T"+pad(JSCompiler_temp,2)+":"+pad(minutes,2)+":"+pad(seconds,2)+"."+pad(milliseconds,3)+"Z":seconds?"T"+pad(JSCompiler_temp,2)+":"+pad(minutes,2)+":"+pad(seconds,2)+"Z":minutes||JSCompiler_temp?"T"+pad(JSCompiler_temp,2)+":"+pad(minutes,2)+"Z":"")}JSCompiler_temp=value}else JSCompiler_temp=
reFormat.test(value+="")?'"'+value.replace(/"/g,'""')+'"':value;value=JSCompiler_temp}return value}var reFormat=new RegExp('["'+delimiter+"\n\r]"),DELIMITER=delimiter.charCodeAt(0);return{parse:function(text,f){var convert,columns;text=parseRows(text,function(row,i){if(convert)return convert(row,i-1);columns=row;convert=f?customConverter(row,f):objectConverter(row)});text.columns=columns||[];return text},parseRows,format:function(rows,columns){null==columns&&(columns=inferColumns(rows));return[columns.map(formatValue).join(delimiter)].concat(preformatBody(rows,
columns)).join("\n")},formatBody:function(rows,columns){null==columns&&(columns=inferColumns(rows));return preformatBody(rows,columns).join("\n")},formatRows:function(rows){return rows.map(formatRow).join("\n")},formatRow,formatValue}};var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13}
//# sourceMappingURL=module$node_modules$d3_dsv$src$dsv.js.map
