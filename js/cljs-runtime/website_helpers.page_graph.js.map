{"version":3,"sources":["website_helpers/page_graph.cljs"],"mappings":"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","names":["website-helpers.page-graph/PageTree","website-helpers.page-graph/example-page-tree","website-helpers.page-graph/get-category-links","nodes","categories-to-idx","cljs.core.reduce","cljs.core/concat","iter__5523__auto__","s__21852","cljs.core/LazySeq","temp__5823__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__21854","cljs.core/chunk-buffer","i__21853","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__21851","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","node","cljs.core.into","s__21858","b__21860","i__21859","iter__21857","s__21876","b__21878","i__21877","iter__21875","category","cljs.core.sort","idx","cljs.core.get","var_args","args__5775__auto__","len__5769__auto__","i__5770__auto__","argseq__5776__auto__","cljs.core/IndexedSeq","website-helpers.page-graph/update-nodes","seq21885","G__21888","cljs.core/next","self__5754__auto__","update-fns","s__21896","b__21898","i__21897","iter__21895","n","fexpr__21905","fexpr__21906","cljs.core.apply","cljs.core/comp","website-helpers.page-graph/scale-size","p1__21915#","cljs.core.update","Math/sqrt","website-helpers.page-graph/opacity-mod-min","website-helpers.page-graph/opacity-mod-max","website-helpers.page-graph/assign-opacity-mod","earliest-mod-time","latest-mod-time","categories","cljs.core.assoc","node-mod-time","cljs.core/max","cljs.core._EQ_","clojure.set.intersection","and__5043__auto__","cljs.core/contains?","website-helpers.page-graph/stroke-opacity-mod-min","website-helpers.page-graph/stroke-opacity-mod-max","website-helpers.page-graph/assign-stroke-opacity-mod","least-mod-num","most-mod-num","node-mod-num","website-helpers.page-graph/assign-group","most-recently-modified-paths","most-recently-created-paths","website-helpers.page-graph/strip-extension","cljs.core/last","p1__21937#","clojure.string.split","p1__21938#","clojure.string/replace","p1__21939#","website-helpers.page-graph/fix-path","p1__21946#","website-helpers.page-graph/capitalize-words","s","cljs.core.map","clojure.string/capitalize","clojure.string.join","website-helpers.page-graph/prettify-name","p1__21956#","website-helpers.page-graph/index-categories","num-notes","s__21963","b__21965","i__21964","vec__21974","cljs.core.nth","iter__21962","vec__21991","i","c","cljs.core.map_indexed","cljs.core/vector","website-helpers.page-graph/notes-to-graph","show-unselected-nodes?","include-home-node?","notes","selected-categories","all-categories","num-recently-modified-notes-to-highlight","num-recently-created-notes-to-highlight","starting-idx","website-helpers.notes/get-notes-for-categories","p1__22017#","cljs.core/min","p1__22022#","cljs.core.remove","cljs.core/nil?","cljs.core/set","website-helpers.notes/get-recently-modified-notes","website-helpers.notes/get-recently-created-notes","idxed-notes","idxed-categories","category-to-node","cljs.core.prn","cljs.core.concat","p1__22049#","p1__22050#","p1__22051#","p1__22058#","p1__22059#","website_helpers.page_graph.update_nodes","cljs.core.dissoc","s__22173","b__22175","i__22174","vec__22203","iter__22172","vec__22219","_","website-helpers.page-graph/build-graph-data","notes-atom","category-selections-atom","cljs.core/deref","website-helpers.utils/get-selected-vars","cljs.core/keys","cljs.core/clj->js","website-helpers.page-graph/page-graph-from-notes","options","website-helpers.global/graph-update-num","website-helpers.graph/viz","reagent.core.track","website-helpers.global/show-unselected-nodes-in-graph?","website-helpers.global/include-home-node-in-graph?","website-helpers.global/notes","website-helpers.global/category-selections","website-helpers.global/num-recently-modified-notes-to-highlight","website-helpers.global/num-recently-created-notes-to-highlight","cljs.core.js__GT_clj","cljs.core/chunk-first"],"sourcesContent":["(ns website-helpers.page-graph\n  (:require [clojure.set :refer [intersection]]\n            [website-helpers.graph :as g]\n            [website-helpers.notes :as n]\n            [website-helpers.global :as global]\n            [website-helpers.macros :refer-macros [seconds-taken]]\n            [website-helpers.utils :refer [get-selected-vars]]\n            [clojure.string :refer [split replace join capitalize]]\n            [reagent.core :as r]))\n\n(def PageTree\n  [:map [:name :string]\n        [:size :int]\n        [:sequential PageTree]])\n\n(def example-page-tree\n  [{:name \"manifesto.md\", :size 10074}\n   {:name \"climbing\", :size 4096,\n    :children [{:name \"media.md\", :size 592}\n               {:name \"safety-checklist.md\", :size 3276}\n               {:name \"event-reports\", :size 4096,\n                :children [{:name \"2019-10-7-namaste-wall-zion.md\", :size 1899}\n                           {:name \"2020-8-10-lake-erie.md\", :size 1225}\n                           {:name \"2020-8-12-mile-high-club.md\", :size 10662}\n                           {:name \"first-512.md\", :size 214}\n                           {:name \"mcmahon-hall.md\", :size 928}]}]}\n   {:name \"datavis\", :size 4096,\n    :children [{:name \"reddit-tree.md\", :size 551}\n               {:name \"seattle-rain.md\", :size 2105}]}\n   {:name \"gamedev\", :size 4096,\n    :children [{:name \"common-patterns.md\", :size 2276}\n               {:name \"gamedev-context.md\", :size 246}\n               {:name \"my-projects.md\", :size 1131}\n               {:name \"game-ideas\", :size 4096,\n                :children [{:name \"farming-video-game.md\", :size 786}\n                           {:name \"roguelike-base-builder.md\", :size 2019}\n                           {:name \"safe-building-designer.md\", :size 507}]}\n               {:name \"mechanic-ideas\", :size 4096,\n                :children [{:name \"character-alignment.md\", :size 436}\n                           {:name \"low-friction-turn-based-tactics.md\", :size 3187}]}]}\n   {:name \"gaming\", :size 4096,\n    :children [{:name \"buying-games.md\", :size 912}\n               {:name \"chess.md\", :size 297}\n               {:name \"fps-principles.md\", :size 6329}\n               {:name \"oxygen-not-included.md\", :size 472}\n               {:name \"recommendations.md\", :size 326}]}\n   {:name \"health-and-longevity\", :size 4096,\n    :children [{:name \"aging-science.md\", :size 94}\n               {:name \"avoiding-accidents.md\", :size 244}\n               {:name \"biomarker-correlator.md\", :size 188}\n               {:name \"causes-of-death.md\", :size 703}\n               {:name \"chronic-stress.md\", :size 26}\n               {:name \"circadian-rhythm.md\", :size 72}\n               {:name \"continuous-glucose-monitoring.md\", :size 1384}\n               {:name \"cooking.md\", :size 9101}\n               {:name \"dental-health.md\", :size 135}\n               {:name \"dna-testing.md\", :size 670}\n               {:name \"exercise.md\", :size 29}\n               {:name \"fasting.md\", :size 4493}\n               {:name \"finding-care.md\", :size 275}\n               {:name \"food.md\", :size 16612}\n               {:name \"influences.md\", :size 8329}\n               {:name \"misc-research.md\", :size 409}\n               {:name \"my-physiological-states.md\", :size 636}\n               {:name \"sleep.md\", :size 4462}\n               {:name \"tracking-health.md\", :size 4196}]}\n   {:name \"hydroponics\", :size 4096,\n    :children [{:name \"journal.md\", :size 1525}\n               {:name \"my-setup.md\", :size 4052}]}\n   {:name \"investing-and-finances\", :size 4096,\n    :children [{:name \"comprehensive-housing-return-estimator.md\", :size 11714}\n               {:name \"financial-independence.md\", :size 745}\n               {:name \"housing.md\", :size 1515}\n               {:name \"influences.md\", :size 1368}\n               {:name \"monthly-costs-of-car-ownership.md\", :size 475}\n               {:name \"strategies.md\", :size 1243}\n               {:name \"taxes.md\", :size 2727}]}\n   {:name \"lifelogging\", :size 4096,\n    :children [{:name \"camera.md\", :size 869}\n               {:name \"influences.md\", :size 250}\n               {:name \"what-and-why.md\", :size 8752}]}])\n\n; (defn tree-seq-adding-path\n;   \"Like tree-seq, but takes in a tree of maps and a unique :tree-path key to\n;   each map.\n;   \n;   See https://clojuredocs.org/clojure.core/tree-seq#example-62780fc7e4b0b1e3652d75ea\"\n;   [branch? children root]\n;   (let [walk (fn walk [path node]\n;                (lazy-seq\n;                 (cons (assoc node :tree-path (str path \"/\" (:name node)))\n;                  (when (branch? node)\n;                    (mapcat (partial walk (str path \"/\" (:name node)))\n;                            (children node))))))]\n;     (walk nil root)))\n; \n; \n; (tree-seq-adding-path associative? :children\n;                       {:name \"home\" :children example-page-tree})\n; \n; (defn get-idxed-nodes\n;   [tree]\n;   (let [idxed-nodes\n;         (map-indexed\n;            (fn [i n] (assoc n :idx i))\n;            (tree-seq-adding-path associative? :children\n;                                  {:name \"home\" :children tree}))\n;         idxes-by-path (into {} (for [node idxed-nodes]\n;                                  [(:tree-path node) (:idx node)]))]\n;     (prn idxes-by-path)\n;     ; Now we update the one level deep children with the indicies\n;     (for [n idxed-nodes]\n;       (update n :children\n;               (fn [children]\n;                 (into [] (for [c children]\n;                            (assoc c :idx (get idxes-by-path\n;                                               (str (:tree-path n)\n;                                                    \"/\" (:name c)))))))))))\n; \n; (get-idxed-nodes (n/notes-by-category-to-children-tree\n;                     (n/organize-notes-by-category\n;                       n/example-notes #{\"a 1\" \"c\"})))\n\n(defn get-category-links\n  [nodes categories-to-idx]\n  (reduce concat\n    (for [node nodes]\n      (into []\n            (for [category [(first (sort (:path-categories node)))]\n                  :let     [idx (get categories-to-idx category)]\n                  :when    idx]\n              {:source (:idx node) :target idx :value 3})))))\n\n(defn update-nodes\n  [nodes & update-fns]\n  (into [] (for [n nodes]\n             ((apply comp update-fns) n))))\n\n(defn scale-size\n  [node]\n  (update node :size #(if (nil? %)\n                        20\n                        (Math/sqrt (/ % 10)))))\n\n\n(def opacity-mod-min 0.5)\n(def opacity-mod-max 1.0)\n(defn assign-opacity-mod\n  [node earliest-mod-time latest-mod-time categories]\n  (assoc node\n    :opacity-mod\n    (let [node-mod-time (apply max (:modification-unix-timestamps node))]\n      (cond (= #{} (intersection categories (:categories node)))\n            (- opacity-mod-min 0.3)\n            (and (:is-category-node node)\n                 (not (contains? categories (:name node))))\n            (- opacity-mod-min 0.3)\n            (nil? node-mod-time) opacity-mod-max\n            (= earliest-mod-time latest-mod-time) opacity-mod-max\n            :else (+ opacity-mod-min\n                     (* (- opacity-mod-max opacity-mod-min)\n                        (/ (- node-mod-time earliest-mod-time)\n                           (- latest-mod-time earliest-mod-time))))))))\n\n(def stroke-opacity-mod-min 0.0)\n(def stroke-opacity-mod-max 1.0)\n(defn assign-stroke-opacity-mod\n  [node least-mod-num most-mod-num categories]\n  (assoc node\n    :stroke-opacity-mod\n    (let [node-mod-num (count (:modification-unix-timestamps node))]\n      (cond (= #{} (intersection categories (:categories node)))\n            stroke-opacity-mod-min\n            (nil? node-mod-num) stroke-opacity-mod-min\n            (= least-mod-num most-mod-num) stroke-opacity-mod-min\n            :else (+ stroke-opacity-mod-min\n                     (* (- stroke-opacity-mod-max stroke-opacity-mod-min)\n                        (/ (- node-mod-num least-mod-num)\n                           (- most-mod-num least-mod-num))))))))\n  \n\n(defn assign-group\n  [node most-recently-modified-paths most-recently-created-paths]\n  (assoc node :group (cond\n                       ; This is a special case we are overloading the \"group\"\n                       ; concept for, since i couldn't figure out how to get a\n                       ; new field through the clj->js conversion.\n                       (contains? most-recently-modified-paths (:path node)) 5\n                       (contains? most-recently-created-paths (:path node)) 4\n                       (contains? (:categories node) \"Important\") 5\n                       ; A normal page\n                       (or (nil? (:children node))\n                           (= 0 (count (:children node)))) 3\n                       ; A category \n                       (<= 0 (count (:children node))) 2)))\n\n(defn strip-extension\n  [node]\n  (if (= \".\" (last (:name node)))\n    node\n    (-> node\n        (update :name #(first (split % #\"\\.\")))\n        (update :path #(replace (first (split % #\"\\.\"))\n                                #\"content/\" \"\"))\n        (update :tree-path #(first (split % #\"\\.\"))))))\n\n(defn fix-path\n  [node]\n  (update node :tree-path #(replace % #\"/home\" \"docs/\")))\n\n(defn capitalize-words \n  \"Capitalize every word in a string\"\n  [s]\n  (->> (split (str s) #\"\\b\") \n       (map capitalize)\n       (join)))\n\n(defn prettify-name\n  [node]\n  (update node :name #(-> %\n                         (replace #\"-\" \" \")\n                         (capitalize-words))))\n\n(defn index-categories\n  [categories num-notes]\n  (into {} (for [[i c] (map-indexed vector categories)]\n             [c (+ num-notes i)])))\n\n(defn notes-to-graph\n  [show-unselected-nodes?\n   include-home-node?\n   notes\n   selected-categories\n   all-categories\n   num-recently-modified-notes-to-highlight\n   num-recently-created-notes-to-highlight]\n  (let [starting-idx      9 ; leave room for HOME and LEGEND and\n                            ; other legend nodes\n        categories        (if (= 0 (count selected-categories))\n                            all-categories\n                            selected-categories)\n        notes             (if show-unselected-nodes?\n                            notes\n                            (n/get-notes-for-categories notes\n                                                        selected-categories))\n        most-mod-num      (apply max\n                            (map #(count (:modification-unix-timestamps %))\n                              notes))\n        least-mod-num     (apply min\n                            (map #(count (:modification-unix-timestamps %))\n                              notes))\n        earliest-mod-time (apply min\n                            (remove nil?\n                              (reduce concat\n                                (map :modification-unix-timestamps notes))))\n        latest-mod-time   (apply max\n                            (remove nil?\n                              (reduce concat\n                                (map :modification-unix-timestamps notes))))\n        most-recently-modified-paths\n        (set (map :path\n               (n/get-recently-modified-notes\n                 notes\n                 num-recently-modified-notes-to-highlight\n                 num-recently-created-notes-to-highlight)))\n        most-recently-created-paths\n        (set (map :path\n               (n/get-recently-created-notes\n                 notes\n                 num-recently-created-notes-to-highlight)))\n        idxed-notes       (map-indexed (fn [i n]\n                                         (assoc n :idx (+ starting-idx i)))\n                                       notes)\n        categories-to-idx (if show-unselected-nodes? all-categories categories)\n        idxed-categories  (assoc (index-categories categories-to-idx\n                                                   (+ starting-idx\n                                                      (count idxed-notes)))\n                            \"HOME\" 0)\n        category-to-node  (fn [c]\n                            {:name             c\n                             :idx              (get idxed-categories c)\n                             :path             (str \"?\" c \"=true\")\n                             :is-category-node true\n                             :tree-path        \"\"\n                             ; hack for group coloring\n                             :children         [1 1]})]\n    (prn \"Making \" (count notes) \" nodes\")\n    (prn \"The most modified page was changed \" most-mod-num \" times.\")\n    (prn \"The least modified page was changed \" least-mod-num \" times.\")\n    (prn \"The page changed the earliest was changed at \" earliest-mod-time)\n    (prn \"The page changed the latest was changed at \" latest-mod-time)\n    {:nodes\n     (concat\n       [{:name \"Home\" :idx 0 :group 1 :size 20 :label \"home\" :opacity-mod 1}\n        {:name        \"Legend\"\n         :idx         1\n         :group       1\n         :size        20\n         :label       \"legend\"\n         :stroke-opacity-mod 0.5\n         :opacity-mod 1}\n        {:name        \"Category (double-click to filter graph)\"\n         :idx         2\n         :group       2\n         :size        20\n         :label       \"legend\"\n         :stroke-opacity-mod 0.5\n         :opacity-mod 1}\n        {:name        \"Lighter nodes were edited longer ago\"\n         :idx         3\n         :group       3\n         :size        10\n         :stroke-opacity-mod 0.5\n         :label       \"legend\"\n         :opacity-mod 0.5}\n        {:name        \"Nodes with darker outlines have been edited more times.\"\n         :idx         4\n         :group       3\n         :size        10\n         :stroke-opacity-mod 1.0\n         :label       \"legend\"\n         :opacity-mod 1}\n        {:name        \"Page (double-click to view)\"\n         :idx         5\n         :group       3\n         :size        20\n         :label       \"legend\"\n         :stroke-opacity-mod 0.5\n         :opacity-mod 1}\n        {:name        \"Recently Added Page (double-click to view)\"\n         :idx         6\n         :group       4\n         :size        20\n         :label       \"legend\"\n         :stroke-opacity-mod 0.5\n         :opacity-mod 1}\n        {:name        \"Recently Modified Page (double-click to view)\"\n         :idx         7\n         :group       5\n         :size        20\n         :label       \"legend\"\n         :stroke-opacity-mod 0.5\n         :opacity-mod 1}\n        {:name        \"Important Page (double-click to view)\"\n         :idx         8\n         :group       6\n         :size        20\n         :stroke-opacity-mod 0.5\n         :opacity-mod 1\n         :label       \"legend\"}]\n       (update-nodes\n         (concat idxed-notes (map category-to-node categories-to-idx))\n         #_(fn [node]\n             (prn (str (:name node)\n                       \" opacity=\"        (:opacity-mod node)\n                       \" stroke-opacity=\" (:stroke-opacity-mod node)))\n             node)\n         prettify-name\n         fix-path\n         strip-extension\n         scale-size\n         #(assign-group %\n                        most-recently-modified-paths\n                        most-recently-created-paths)\n         #(assign-opacity-mod % earliest-mod-time latest-mod-time categories)\n         #(assign-stroke-opacity-mod % least-mod-num most-mod-num categories)\n         #(assoc % :label (first (:categories %)))\n         #(dissoc % :markdown)))\n     :links (concat ; TODO make only links from\n                    ; organize-notes-by-category\n              ; appear if the number of links is overwhelming\n              (get-category-links idxed-notes idxed-categories)\n              ; All categories link to home\n              (if include-home-node?\n                (for [[_ i] idxed-categories]\n                  {:source 0 :target i :value 3})\n                [])\n              ; setup LEGEND nodes\n              [; Do not connect the legend node to the center\n               ;{:source 0 :target 1 :value 11}\n               {:source 1 :target 2 :value 11}\n               {:source 2 :target 3 :value 11}\n               {:source 2 :target 4 :value 11}\n               {:source 2 :target 5 :value 11}])}))\n\n(defn build-graph-data\n  [show-unselected-nodes?\n   include-home-node?\n   notes-atom\n   category-selections-atom\n   num-recently-modified-notes-to-highlight\n   num-recently-created-notes-to-highlight]\n  ;(seconds-taken \"Built graph data\"\n  (-> (notes-to-graph @show-unselected-nodes?\n                      @include-home-node?\n                      @notes-atom\n                      (get-selected-vars @category-selections-atom)\n                      (set (keys @category-selections-atom))\n                      @num-recently-modified-notes-to-highlight\n                      @num-recently-created-notes-to-highlight)\n      (update :nodes clj->js)\n      (update :links clj->js)))\n\n(defn ^:export page-graph-from-notes\n  [options]\n  (fn [] [:div\n          ; Wherever this changes, the component is completely reset\n          ; https://cljdoc.org/d/reagent/reagent/2.0.0-alpha2/doc/frequently-asked-questions/how-do-i-force-component-re-creation-\n          ; I struggled a lot with residual state accumulating in the\n          ; graph viz when updating the input data, leading to lots of\n          ; wierd bugs I couldn't fix.\n          ^{:key @global/graph-update-num}\n          (prn \"rerender \" @global/graph-update-num)\n          [g/viz\n           ; (r/track build-graph-data global/notes\n           ; global/category-selections)\n           (r/track build-graph-data\n                    global/show-unselected-nodes-in-graph?\n                    global/include-home-node-in-graph?\n                    global/notes\n                    global/category-selections\n                    global/num-recently-modified-notes-to-highlight\n                    global/num-recently-created-notes-to-highlight)\n           \"https://kovasap.github.io/\"\n           (js->clj options :keywordize-keys true)]]))\n"]}