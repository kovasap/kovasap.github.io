{
"version":3,
"file":"module$node_modules$d3_transition$src$transition$schedule.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/d3-transition/src/transition/schedule.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$d3_transition$src$transition$schedule\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\nexports.init = init;\nexports.set = set;\nexports.get = get;\nexports.ENDED = exports.ENDING = exports.RUNNING = exports.STARTED = exports.STARTING = exports.SCHEDULED = exports.CREATED = void 0;\n\nvar _d3Dispatch = require(\"d3-dispatch\");\n\nvar _d3Timer = require(\"d3-timer\");\n\nvar emptyOn = (0, _d3Dispatch.dispatch)(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nvar CREATED = 0;\nexports.CREATED = CREATED;\nvar SCHEDULED = 1;\nexports.SCHEDULED = SCHEDULED;\nvar STARTING = 2;\nexports.STARTING = STARTING;\nvar STARTED = 3;\nexports.STARTED = STARTED;\nvar RUNNING = 4;\nexports.RUNNING = RUNNING;\nvar ENDING = 5;\nexports.ENDING = ENDING;\nvar ENDED = 6;\nexports.ENDED = ENDED;\n\nfunction _default(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index,\n    // For context during callback.\n    group: group,\n    // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nfunction init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nfunction set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nfunction get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween; // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n\n  schedules[id] = self;\n  self.timer = (0, _d3Timer.timer)(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time); // If the elapsed delay is less than our first sleep, start immediately.\n\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o; // If the state is not SCHEDULED, then we previously errored on start.\n\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue; // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n\n      if (o.state === STARTED) return (0, _d3Timer.timeout)(start); // Interrupt the active transition, if any.\n\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      } // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    } // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n\n\n    (0, _d3Timer.timeout)(function () {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    }); // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n\n    self.state = STARTED; // Initialize the tween, deleting null tween.\n\n    tween = new Array(n = self.tween.length);\n\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    } // Dispatch the end event.\n\n\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n\n\n    delete node.__transition;\n  }\n}\n};"],
"names":["shadow$provide","global","require","module","exports","get","node","id","schedule","__transition","Error","create","self","start","elapsed","j","n","state","SCHEDULED","stop","i","schedules","o","name","STARTED","_d3Timer","timeout","RUNNING","ENDED","timer","on","call","__data__","index","group","restart","tick","delay","time","STARTING","tween","Array","length","value","t","duration","ease","ENDING","Object","defineProperty","default","_default","timing","emptyOn","emptyTween","CREATED","init","set","_d3Dispatch","dispatch"]
}
