{
"version":3,
"file":"module$node_modules$d3_hierarchy$src$pack$siblings.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/d3-hierarchy/src/pack/siblings.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$d3_hierarchy$src$pack$siblings\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.packSiblingsRandom = packSiblingsRandom;\nexports.default = _default;\n\nvar _array = _interopRequireDefault(require(\"../array.js\"));\n\nvar _lcg = _interopRequireDefault(require(\"../lcg.js\"));\n\nvar _enclose = require(\"./enclose.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x,\n      x,\n      a2,\n      dy = b.y - a.y,\n      y,\n      b2,\n      d2 = dx * dx + dy * dy;\n\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6,\n      dx = b.x - a.x,\n      dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nfunction packSiblingsRandom(circles, random) {\n  if (!(n = (circles = (0, _array.default)(circles)).length)) return 0;\n  var a, b, c, n, aa, ca, i, j, k, sj, sk; // Place the first circle.\n\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r; // Place the second circle.\n\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r; // Place the third circle.\n\n  place(b, a, c = circles[2]); // Initialize the front-chain using the first three circles a, b and c.\n\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a; // Attempt to place each remaining circle\u2026\n\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c); // Find the closest intersecting circle on the front-chain, if any.\n    // \u201cCloseness\u201d is determined by linear distance along the front-chain.\n    // \u201cAhead\u201d or \u201cbehind\u201d is likewise determined by linear distance.\n\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next); // Success! Insert the new circle c between a and b.\n\n\n    c.previous = a, c.next = b, a.next = b.previous = b = c; // Compute the new closest circle pair to the centroid.\n\n    aa = score(a);\n\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n\n    b = a.next;\n  } // Compute the enclosing circle of the front chain.\n\n\n  a = [b._], c = b;\n\n  while ((c = c.next) !== b) a.push(c._);\n\n  c = (0, _enclose.packEncloseRandom)(a, random); // Translate the circles to put the enclosing circle around the origin.\n\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nfunction _default(circles) {\n  packSiblingsRandom(circles, (0, _lcg.default)());\n  return circles;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","default","place","b","a","c","dx","x","dy","y","d2","a2","r","b2","Math","sqrt","max","intersects","dr","score","node","_","next","ab","Node","circle","previous","packSiblingsRandom","circles","random","n","length","_array","i","j","k","sj","sk","aa","ca","push","_enclose","packEncloseRandom","Object","defineProperty","value","_default","_lcg"]
}
