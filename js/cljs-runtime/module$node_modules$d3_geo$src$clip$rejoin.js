shadow$provide.module$node_modules$d3_geo$src$clip$rejoin=function(global,require,module,exports){function Intersection(point,points,other,entry){this.x=point;this.z=points;this.o=other;this.e=entry;this.v=!1;this.n=this.p=null}function link(array){if(n=array.length){for(var n,i=0,a=array[0],b;++i<n;)a.n=b=array[i],b.p=a,a=b;a.n=b=array[0];b.p=a}}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(segments,compareIntersection,startInside,interpolate,stream){var subject=
[],clip=[];segments.forEach(function(segment){if(!(0>=(n=segment.length-1))){var n,p0=segment[0],p1=segment[n];if((0,_pointEqual.default)(p0,p1)){if(!p0[2]&&!p1[2]){stream.lineStart();for(i=0;i<n;++i)stream.point((p0=segment[i])[0],p0[1]);stream.lineEnd();return}p1[0]+=2*_math.epsilon}subject.push(n=new Intersection(p0,segment,null,!0));clip.push(n.o=new Intersection(p0,null,n,!1));subject.push(n=new Intersection(p1,segment,null,!1));clip.push(n.o=new Intersection(p1,null,n,!0))}});if(subject.length){clip.sort(compareIntersection);
link(subject);link(clip);var i=0;for(segments=clip.length;i<segments;++i)clip[i].e=startInside=!startInside;startInside=subject[0];for(var point;;){for(var current=startInside,isSubject=!0;current.v;)if((current=current.n)===startInside)return;compareIntersection=current.z;stream.lineStart();do{current.v=current.o.v=!0;if(current.e){if(isSubject)for(i=0,segments=compareIntersection.length;i<segments;++i)stream.point((point=compareIntersection[i])[0],point[1]);else interpolate(current.x,current.n.x,
1,stream);current=current.n}else{if(isSubject)for(compareIntersection=current.p.z,i=compareIntersection.length-1;0<=i;--i)stream.point((point=compareIntersection[i])[0],point[1]);else interpolate(current.x,current.p.x,-1,stream);current=current.p}current=current.o;compareIntersection=current.z;isSubject=!isSubject}while(!current.v);stream.lineEnd()}}};var _pointEqual=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(require("module$node_modules$d3_geo$src$pointEqual")),_math=require("module$node_modules$d3_geo$src$math")}
//# sourceMappingURL=module$node_modules$d3_geo$src$clip$rejoin.js.map
