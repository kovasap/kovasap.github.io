{"version":3,"sources":["rid3/viz.cljs"],"mappings":";AAQA,4BAAA,5BAAMA,gEAAkBC;AAAxB,AACE,IAAAC,aAEsBD;IAFtBC,iBAAA,AAAAC,4BAAAD;SAAA,AAAAE,4CAAAF,eAAA,hEAAcI;YAAd,AAAAF,4CAAAF,eAAA,nEACcK;aADd,AAAAH,4CAAAF,eAAA,pEAEcM;sBAFd,AAAAH,lBAGMI,kCAAiBF;AAHvB,AAAA,0FAAA,mDAAA,2CAAA,qDAAA,HAIaD,2DAAUE;;AAGzB,+BAAA,/BAAME,sEAAqBT;AAA3B,AAGE,oBAAM,iDAAA,jDAACG,4CAAIH;AAAX,AACE,AAACU,aAAgB;;AADnB;;AAGA,AAACC,uBAAkBX;;AACnB,AAACY,6CAAwCZ;;AAEzC,IAAMa,SAAO,iDAAA,0DAAA,3GAACV,4CAAIH;AAAlB,AACE,IAAAc,aAAA,AAAAC,cAAcF;IAAdG,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,YAAA,AAAAD,kDAAAE,1DAAQS;AAAR,AAAA,AACE,AAACC,iEAA8BD,MAAM3B;;AADvC;AAAA,eAAAc;eAAAE;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAAC,qBAAA,AAAAJ,cAAAD;AAAA,AAAA,GAAAK;AAAA,AAAA,IAAAL,iBAAAK;AAAA,AAAA,GAAA,AAAAC,6BAAAN;AAAA,IAAAO,kBAAA,AAAAC,sBAAAR;AAAA,AAAA,eAAA,AAAAS,qBAAAT;eAAAO;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,YAAA,AAAAI,gBAAAX,xBAAQa;AAAR,AAAA,AACE,AAACC,iEAA8BD,MAAM3B;;AADvC;AAAA,eAAA,AAAA0B,eAAAZ;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AAIJ,gCAAA,hCAAMe,wEAAsB7B;AAA5B,AACE,AAAC8B,wBAAmB9B;;AACpB,AAAC+B,8CAAyC/B;;AAE1C,IAAMa,SAAO,iDAAA,0DAAA,3GAACV,4CAAIH;AAAlB,AACE,IAAAgC,aAAA,AAAAjB,cAAcF;IAAdoB,eAAA;IAAAC,eAAA;IAAAC,WAAA;;AAAA,AAAA,GAAA,AAAA,CAAAA,WAAAD;AAAA,YAAA,AAAAD,kDAAAE,1DAAQR;AAAR,AAAA,AACE,AAACS,kEAA+BT,MAAM3B;;AADxC;AAAA,eAAAgC;eAAAC;eAAAC;eAAA,CAAAC,WAAA;;;;;;;AAAA,IAAAhB,qBAAA,AAAAJ,cAAAiB;AAAA,AAAA,GAAAb;AAAA,AAAA,IAAAa,iBAAAb;AAAA,AAAA,GAAA,AAAAC,6BAAAY;AAAA,IAAAX,kBAAA,AAAAC,sBAAAU;AAAA,AAAA,eAAA,AAAAT,qBAAAS;eAAAX;eAAA,AAAAG,gBAAAH;eAAA;;;;;;;AAAA,YAAA,AAAAI,gBAAAO,xBAAQL;AAAR,AAAA,AACE,AAACS,kEAA+BT,MAAM3B;;AADxC;AAAA,eAAA,AAAA0B,eAAAM;eAAA;eAAA;eAAA;;;;;;;;AAAA;;;;;;AAIJ,qBAAA,rBAAMK,kDAAWrC;AAAjB,AACE,+DAAA,2CAAA,yEAAA,5KAACsC;AAAD,AACyB,OAACvC,0BAAiBC;GAD3C,oFAAA;AAAA,AAEyB,OAACS,6BAAoBT;GAF9C,sFAAA;AAAA,AAGyB,OAAC6B,8BAAqB7B","names":["rid3.viz/component-render","opts","map__40302","cljs.core/--destructure-map","cljs.core.get","cljs.core/deref","id","ratom","class","_trigger-update","rid3.viz/component-did-mount","js/console.warn","rid3.svg/svg-did-mount","rid3.main-container/main-container-did-mount","pieces","seq__40309","cljs.core/seq","chunk__40310","count__40311","i__40312","temp__5753__auto__","cljs.core/chunked-seq?","c__4638__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/count","cljs.core/first","cljs.core/next","piece","rid3.pieces.handle_piece_did_mount","rid3.viz/component-did-update","rid3.svg/svg-did-update","rid3.main-container/main-container-did-update","seq__40325","chunk__40326","count__40327","i__40328","rid3.pieces.handle_piece_did_update","rid3.viz/component","reagent.core.create_class"],"sourcesContent":["(ns rid3.viz\n  (:require\n   [reagent.core :as reagent]\n   [rid3.main-container :as main-container]\n   [rid3.pieces :as pieces]\n   [rid3.svg :as svg]))\n\n\n(defn component-render [opts]\n  (let [{:keys [id\n                ratom\n                class]} opts\n        _trigger-update @ratom]\n    [:div {:id id :class class}]))\n\n\n(defn component-did-mount [opts]\n\n  ;; TODO: remove notice in v0.3.0\n  (when (get opts :prepare-dataset)\n    (js/console.warn (str \"[rid3] using :prepare-dataset at the top-level has been deprecated. Please move :prepare-dataset inside of your :elem-with-data pieces.\")))\n\n  (svg/svg-did-mount opts)\n  (main-container/main-container-did-mount opts)\n\n  (let [pieces (get opts :pieces [])]\n    (doseq [piece pieces]\n      (pieces/handle-piece-did-mount piece opts))))\n\n\n(defn component-did-update [opts]\n  (svg/svg-did-update opts)\n  (main-container/main-container-did-update opts)\n\n  (let [pieces (get opts :pieces [])]\n    (doseq [piece pieces]\n      (pieces/handle-piece-did-update piece opts))))\n\n\n(defn component [opts]\n  (reagent/create-class\n   {:reagent-render       #(component-render opts)\n    :component-did-mount  #(component-did-mount opts)\n    :component-did-update #(component-did-update opts)}))\n"]}