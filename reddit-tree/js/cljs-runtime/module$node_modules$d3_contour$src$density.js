shadow$provide.module$node_modules$d3_contour$src$density=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function defaultX(d){return d[0]}function defaultY(d){return d[1]}function defaultWeight(){return 1}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(){function density(data$jscomp$0){var values0=new Float32Array(n*m),values1=new Float32Array(n*m),pow2k=Math.pow(2,-k);data$jscomp$0.forEach(function(d,
i,data){var xi=(x(d,i,data)+o)*pow2k,yi=(y(d,i,data)+o)*pow2k;d=+weight(d,i,data);0<=xi&&xi<n&&0<=yi&&yi<m&&(i=Math.floor(xi),data=Math.floor(yi),xi=xi-i-.5,yi=yi-data-.5,values0[i+data*n]+=(1-xi)*(1-yi)*d,values0[i+1+data*n]+=xi*(1-yi)*d,values0[i+1+(data+1)*n]+=xi*yi*d,values0[i+(data+1)*n]+=(1-xi)*yi*d)});(0,_blur.blurX)({width:n,height:m,data:values0},{width:n,height:m,data:values1},r>>k);(0,_blur.blurY)({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k);(0,_blur.blurX)({width:n,
height:m,data:values0},{width:n,height:m,data:values1},r>>k);(0,_blur.blurY)({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k);(0,_blur.blurX)({width:n,height:m,data:values0},{width:n,height:m,data:values1},r>>k);(0,_blur.blurY)({width:n,height:m,data:values1},{width:n,height:m,data:values0},r>>k);data$jscomp$0=threshold(values0);Array.isArray(data$jscomp$0)||(values1=(0,_d3Array.max)(values0),data$jscomp$0=(0,_d3Array.tickStep)(0,values1,data$jscomp$0),data$jscomp$0=(0,_d3Array.range)(0,
Math.floor(values1/data$jscomp$0)*data$jscomp$0,data$jscomp$0),data$jscomp$0.shift());return(0,_contours.default)().thresholds(data$jscomp$0).size([n,m])(values0).map(transform)}function transform(geometry){geometry.value*=Math.pow(2,-2*k);geometry.coordinates.forEach(transformPolygon);return geometry}function transformPolygon(coordinates){coordinates.forEach(transformRing)}function transformRing(coordinates){coordinates.forEach(transformPoint)}function transformPoint(coordinates){coordinates[0]=
coordinates[0]*Math.pow(2,k)-o;coordinates[1]=coordinates[1]*Math.pow(2,k)-o}function resize(){o=3*r;n=dx+2*o>>k;m=dy+2*o>>k;return density}var x=defaultX,y=defaultY,weight=defaultWeight,dx=960,dy=500,r=20,k=2,o=3*r,n=dx+2*o>>k,m=dy+2*o>>k,threshold=(0,_constant.default)(20);density.x=function(_){return arguments.length?(x="function"===typeof _?_:(0,_constant.default)(+_),density):x};density.y=function(_){return arguments.length?(y="function"===typeof _?_:(0,_constant.default)(+_),density):y};density.weight=
function(_){return arguments.length?(weight="function"===typeof _?_:(0,_constant.default)(+_),density):weight};density.size=function(_){if(!arguments.length)return[dx,dy];var _0=+_[0],_1=+_[1];if(!(0<=_0&&0<=_1))throw Error("invalid size");return dx=_0,dy=_1,resize()};density.cellSize=function(_){if(!arguments.length)return 1<<k;if(!(1<=(_=+_)))throw Error("invalid cell size");return k=Math.floor(Math.log(_)/Math.LN2),resize()};density.thresholds=function(_){return arguments.length?(threshold="function"===
typeof _?_:Array.isArray(_)?(0,_constant.default)(_array.slice.call(_)):(0,_constant.default)(_),density):threshold};density.bandwidth=function(_){if(!arguments.length)return Math.sqrt(r*(r+1));if(!(0<=(_=+_)))throw Error("invalid bandwidth");return r=Math.round((Math.sqrt(4*_*_+1)-1)/2),resize()};return density};var _d3Array=require("module$node_modules$d3_array$src$index"),_array=require("module$node_modules$d3_contour$src$array"),_blur=require("module$node_modules$d3_contour$src$blur"),_constant=
_interopRequireDefault(require("module$node_modules$d3_contour$src$constant")),_contours=_interopRequireDefault(require("module$node_modules$d3_contour$src$contours"))}
//# sourceMappingURL=module$node_modules$d3_contour$src$density.js.map
