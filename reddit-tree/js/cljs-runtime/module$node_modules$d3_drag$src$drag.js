shadow$provide.module$node_modules$d3_drag$src$drag=function(global,require,module,exports){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(nodeInterop$jscomp$0){if("function"!==typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop$jscomp$0)}function _interopRequireWildcard(obj,
nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==typeof obj&&"function"!==typeof obj)return{default:obj};if((nodeInterop=_getRequireWildcardCache(nodeInterop))&&nodeInterop.has(obj))return nodeInterop.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,key;for(key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;
desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj;nodeInterop&&nodeInterop.set(obj,newObj);return newObj}function defaultFilter(event){return!event.ctrlKey&&!event.button}function defaultContainer(){return this.parentNode}function defaultSubject(event,d){return null==d?{x:event.x,y:event.y}:d}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=
function(){function drag(selection){selection.on("mousedown.drag",mousedowned).filter(touchable).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved,_noevent.nonpassive).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(event,d){!touchending&&filter.call(this,event,d)&&(d=beforestart(this,container$jscomp$0.call(this,event,d),event,d,"mouse"))&&((0,_d3Selection.select)(event.view).on("mousemove.drag",
mousemoved,_noevent.nonpassivecapture).on("mouseup.drag",mouseupped,_noevent.nonpassivecapture),(0,_nodrag.default)(event.view),(0,_noevent.nopropagation)(event),mousemoving=!1,mousedownx=event.clientX,mousedowny=event.clientY,d("start",event))}function mousemoved(event){(0,_noevent.default)(event);if(!mousemoving){var dx=event.clientX-mousedownx,dy=event.clientY-mousedowny;mousemoving=dx*dx+dy*dy>clickDistance2}gestures.mouse("drag",event)}function mouseupped(event){(0,_d3Selection.select)(event.view).on("mousemove.drag mouseup.drag",
null);(0,_nodrag.yesdrag)(event.view,mousemoving);(0,_noevent.default)(event);gestures.mouse("end",event)}function touchstarted(event,d){if(filter.call(this,event,d)){var touches=event.changedTouches,c=container$jscomp$0.call(this,event,d),n=touches.length,i,gesture;for(i=0;i<n;++i)if(gesture=beforestart(this,c,event,d,touches[i].identifier,touches[i]))(0,_noevent.nopropagation)(event),gesture("start",event,touches[i])}}function touchmoved(event){var touches=event.changedTouches,n=touches.length,
i,gesture;for(i=0;i<n;++i)if(gesture=gestures[touches[i].identifier])(0,_noevent.default)(event),gesture("drag",event,touches[i])}function touchended(event){var touches=event.changedTouches,n=touches.length,i,gesture;touchending&&clearTimeout(touchending);touchending=setTimeout(function(){touchending=null},500);for(i=0;i<n;++i)if(gesture=gestures[touches[i].identifier])(0,_noevent.nopropagation)(event),gesture("end",event,touches[i])}function beforestart(that,container,event$jscomp$0,d,identifier,
touch){var dispatch=listeners.copy(),p=(0,_d3Selection.pointer)(touch||event$jscomp$0,container),s;if(null!=(s=subject.call(that,new _event.default("beforestart",{sourceEvent:event$jscomp$0,target:drag,identifier,active,x:p[0],y:p[1],dx:0,dy:0,dispatch}),d))){var dx=s.x-p[0]||0;var dy=s.y-p[1]||0;return function gesture(type,event,touch){var p0=p;switch(type){case "start":gestures[identifier]=gesture;var n=active++;break;case "end":delete gestures[identifier],--active;case "drag":p=(0,_d3Selection.pointer)(touch||
event,container),n=active}dispatch.call(type,that,new _event.default(type,{sourceEvent:event,subject:s,target:drag,identifier,active:n,x:p[0]+dx,y:p[1]+dy,dx:p[0]-p0[0],dy:p[1]-p0[1],dispatch}),d)}}}var filter=defaultFilter,container$jscomp$0=defaultContainer,subject=defaultSubject,touchable=defaultTouchable,gestures={},listeners=(0,_d3Dispatch.dispatch)("start","drag","end"),active=0,mousedownx,mousedowny,mousemoving,touchending,clickDistance2=0;drag.filter=function(_){return arguments.length?(filter=
"function"===typeof _?_:(0,_constant.default)(!!_),drag):filter};drag.container=function(_){return arguments.length?(container$jscomp$0="function"===typeof _?_:(0,_constant.default)(_),drag):container$jscomp$0};drag.subject=function(_){return arguments.length?(subject="function"===typeof _?_:(0,_constant.default)(_),drag):subject};drag.touchable=function(_){return arguments.length?(touchable="function"===typeof _?_:(0,_constant.default)(!!_),drag):touchable};drag.on=function(){var value=listeners.on.apply(listeners,
arguments);return value===listeners?drag:value};drag.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,drag):Math.sqrt(clickDistance2)};return drag};var _d3Dispatch=require("module$node_modules$d3_dispatch$src$index"),_d3Selection=require("module$node_modules$d3_selection$src$index"),_nodrag=_interopRequireWildcard(require("module$node_modules$d3_drag$src$nodrag")),_noevent=_interopRequireWildcard(require("module$node_modules$d3_drag$src$noevent")),_constant=_interopRequireDefault(require("module$node_modules$d3_drag$src$constant")),
_event=_interopRequireDefault(require("module$node_modules$d3_drag$src$event"))}
//# sourceMappingURL=module$node_modules$d3_drag$src$drag.js.map
