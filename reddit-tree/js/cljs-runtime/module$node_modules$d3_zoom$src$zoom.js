shadow$provide.module$node_modules$d3_zoom$src$zoom=function(global,require,module,exports){function _getRequireWildcardCache(nodeInterop$jscomp$0){if("function"!==typeof WeakMap)return null;var cacheBabelInterop=new WeakMap,cacheNodeInterop=new WeakMap;return(_getRequireWildcardCache=function(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop})(nodeInterop$jscomp$0)}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function defaultFilter(event){return(!event.ctrlKey||
"wheel"===event.type)&&!event.button}function defaultExtent(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function defaultTransform(){return this.__zoom||_transform.identity}function defaultWheelDelta(event){return-event.deltaY*(1===event.deltaMode?.05:event.deltaMode?1:.002)*(event.ctrlKey?10:1)}
function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(transform,extent,translateExtent){var dx0=transform.invertX(extent[0][0])-translateExtent[0][0],dx1=transform.invertX(extent[1][0])-translateExtent[1][0],dy0=transform.invertY(extent[0][1])-translateExtent[0][1];extent=transform.invertY(extent[1][1])-translateExtent[1][1];return transform.translate(dx1>dx0?(dx0+dx1)/2:Math.min(0,dx0)||Math.max(0,dx1),extent>dy0?(dy0+extent)/2:Math.min(0,dy0)||
Math.max(0,extent))}Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(){function zoom(selection){selection.property("__zoom",defaultTransform).on("wheel.zoom",wheeled,{passive:!1}).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(touchable).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(transform,k){k=Math.max(scaleExtent[0],
Math.min(scaleExtent[1],k));return k===transform.k?transform:new _transform.Transform(k,transform.x,transform.y)}function translate(transform,p0,p1){var x=p0[0]-p1[0]*transform.k;p0=p0[1]-p1[1]*transform.k;return x===transform.x&&p0===transform.y?transform:new _transform.Transform(transform.k,x,p0)}function centroid(extent){return[(+extent[0][0]+ +extent[1][0])/2,(+extent[0][1]+ +extent[1][1])/2]}function schedule(transition,transform,point,event){transition.on("start.zoom",function(){gesture(this,
arguments).event(event).start()}).on("interrupt.zoom end.zoom",function(){gesture(this,arguments).event(event).end()}).tween("zoom",function(){var args=arguments,g=gesture(this,args).event(event),e=extent$jscomp$0.apply(this,args),p=null==point?centroid(e):"function"===typeof point?point.apply(this,args):point,w=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]);e=this.__zoom;var b="function"===typeof transform?transform.apply(this,args):transform,i=interpolate(e.invert(p).concat(w/e.k),b.invert(p).concat(w/
b.k));return function(t){if(1===t)t=b;else{t=i(t);var k=w/t[2];t=new _transform.Transform(k,p[0]-t[0]*k,p[1]-t[1]*k)}g.zoom(null,t)}})}function gesture(that,args,clean){return!clean&&that.__zooming||new Gesture(that,args)}function Gesture(that,args){this.that=that;this.args=args;this.active=0;this.sourceEvent=null;this.extent=extent$jscomp$0.apply(that,args);this.taps=0}function wheeled(event,...args){if(filter.apply(this,arguments)){var g=gesture(this,args).event(event);args=this.__zoom;var k=Math.max(scaleExtent[0],
Math.min(scaleExtent[1],args.k*Math.pow(2,wheelDelta.apply(this,arguments)))),p=(0,_d3Selection.pointer)(event);if(g.wheel){if(g.mouse[0][0]!==p[0]||g.mouse[0][1]!==p[1])g.mouse[1]=args.invert(g.mouse[0]=p);clearTimeout(g.wheel)}else{if(args.k===k)return;g.mouse=[p,args.invert(p)];(0,_d3Transition.interrupt)(this);g.start()}(0,_noevent.default)(event);g.wheel=setTimeout(function(){g.wheel=null;g.end()},150);g.zoom("mouse",constrain(translate(scale(args,k),g.mouse[0],g.mouse[1]),g.extent,translateExtent))}}
function mousedowned(event$jscomp$0,...args){if(!touchending&&filter.apply(this,arguments)){var currentTarget=event$jscomp$0.currentTarget,g=gesture(this,args,!0).event(event$jscomp$0),v=(0,_d3Selection.select)(event$jscomp$0.view).on("mousemove.zoom",function(event){(0,_noevent.default)(event);if(!g.moved){var dx=event.clientX-x0,dy=event.clientY-y0;g.moved=dx*dx+dy*dy>clickDistance2}g.event(event).zoom("mouse",constrain(translate(g.that.__zoom,g.mouse[0]=(0,_d3Selection.pointer)(event,currentTarget),
g.mouse[1]),g.extent,translateExtent))},!0).on("mouseup.zoom",function(event){v.on("mousemove.zoom mouseup.zoom",null);(0,_d3Drag.dragEnable)(event.view,g.moved);(0,_noevent.default)(event);g.event(event).end()},!0);args=(0,_d3Selection.pointer)(event$jscomp$0,currentTarget);var x0=event$jscomp$0.clientX,y0=event$jscomp$0.clientY;(0,_d3Drag.dragDisable)(event$jscomp$0.view);(0,_noevent.nopropagation)(event$jscomp$0);g.mouse=[args,this.__zoom.invert(args)];(0,_d3Transition.interrupt)(this);g.start()}}
function dblclicked(event,...args){if(filter.apply(this,arguments)){var t0=this.__zoom,p0=(0,_d3Selection.pointer)(event.changedTouches?event.changedTouches[0]:event,this),p1=t0.invert(p0);args=constrain(translate(scale(t0,t0.k*(event.shiftKey?.5:2)),p0,p1),extent$jscomp$0.apply(this,args),translateExtent);(0,_noevent.default)(event);0<duration?(0,_d3Selection.select)(this).transition().duration(duration).call(schedule,args,p0,event):(0,_d3Selection.select)(this).call(zoom.transform,args,p0,event)}}
function touchstarted(event,...args){if(filter.apply(this,arguments)){var touches=event.touches,n=touches.length;args=gesture(this,args,event.changedTouches.length===n).event(event);var i;(0,_noevent.nopropagation)(event);for(i=0;i<n;++i){var t=touches[i];var p=(0,_d3Selection.pointer)(t,this);p=[p,this.__zoom.invert(p),t.identifier];if(args.touch0)args.touch1||args.touch0[2]===p[2]||(args.touch1=p,args.taps=0);else{args.touch0=p;var started=!0;args.taps=1+!!touchstarting}}touchstarting&&(touchstarting=
clearTimeout(touchstarting));started&&(2>args.taps&&(touchfirst=p[0],touchstarting=setTimeout(function(){touchstarting=null},500)),(0,_d3Transition.interrupt)(this),args.start())}}function touchmoved(event,...args){if(this.__zooming){args=gesture(this,args).event(event);var touches=event.changedTouches,n=touches.length,i;(0,_noevent.default)(event);for(i=0;i<n;++i){event=touches[i];var p=(0,_d3Selection.pointer)(event,this);args.touch0&&args.touch0[2]===event.identifier?args.touch0[0]=p:args.touch1&&
args.touch1[2]===event.identifier&&(args.touch1[0]=p)}event=args.that.__zoom;if(args.touch1){p=args.touch0[0];touches=args.touch0[1];i=args.touch1[0];n=args.touch1[1];var l=(l=i[0]-p[0])*l+(l=i[1]-p[1])*l;var dl=(dl=n[0]-touches[0])*dl+(dl=n[1]-touches[1])*dl;event=scale(event,Math.sqrt(l/dl));p=[(p[0]+i[0])/2,(p[1]+i[1])/2];l=[(touches[0]+n[0])/2,(touches[1]+n[1])/2]}else if(args.touch0)p=args.touch0[0],l=args.touch0[1];else return;args.zoom("touch",constrain(translate(event,p,l),args.extent,translateExtent))}}
function touchended(event,...args){if(this.__zooming){args=gesture(this,args).event(event);var touches=event.changedTouches,n=touches.length,i;(0,_noevent.nopropagation)(event);touchending&&clearTimeout(touchending);touchending=setTimeout(function(){touchending=null},500);for(i=0;i<n;++i){var t=touches[i];args.touch0&&args.touch0[2]===t.identifier?delete args.touch0:args.touch1&&args.touch1[2]===t.identifier&&delete args.touch1}args.touch1&&!args.touch0&&(args.touch0=args.touch1,delete args.touch1);
args.touch0?args.touch0[1]=this.__zoom.invert(args.touch0[0]):(args.end(),2===args.taps&&(t=(0,_d3Selection.pointer)(t,this),Math.hypot(touchfirst[0]-t[0],touchfirst[1]-t[1])<tapDistance&&(t=(0,_d3Selection.select)(this).on("dblclick.zoom"))&&t.apply(this,arguments)))}}var filter=defaultFilter,extent$jscomp$0=defaultExtent,constrain=defaultConstrain,wheelDelta=defaultWheelDelta,touchable=defaultTouchable,scaleExtent=[0,Infinity],translateExtent=[[-Infinity,-Infinity],[Infinity,Infinity]],duration=
250,interpolate=_d3Interpolate.interpolateZoom,listeners=(0,_d3Dispatch.dispatch)("start","zoom","end"),touchstarting,touchfirst,touchending,clickDistance2=0,tapDistance=10;zoom.transform=function(collection,transform,point,event){var selection=collection.selection?collection.selection():collection;selection.property("__zoom",defaultTransform);collection!==selection?schedule(collection,transform,point,event):selection.interrupt().each(function(){gesture(this,arguments).event(event).start().zoom(null,
"function"===typeof transform?transform.apply(this,arguments):transform).end()})};zoom.scaleBy=function(selection,k,p,event){zoom.scaleTo(selection,function(){var k0=this.__zoom.k,k1="function"===typeof k?k.apply(this,arguments):k;return k0*k1},p,event)};zoom.scaleTo=function(selection,k,p,event){zoom.transform(selection,function(){var e=extent$jscomp$0.apply(this,arguments),t0=this.__zoom,p0=null==p?centroid(e):"function"===typeof p?p.apply(this,arguments):p,p1=t0.invert(p0),k1="function"===typeof k?
k.apply(this,arguments):k;return constrain(translate(scale(t0,k1),p0,p1),e,translateExtent)},p,event)};zoom.translateBy=function(selection,x,y,event){zoom.transform(selection,function(){return constrain(this.__zoom.translate("function"===typeof x?x.apply(this,arguments):x,"function"===typeof y?y.apply(this,arguments):y),extent$jscomp$0.apply(this,arguments),translateExtent)},null,event)};zoom.translateTo=function(selection,x,y,p,event){zoom.transform(selection,function(){var e=extent$jscomp$0.apply(this,
arguments),t=this.__zoom,p0=null==p?centroid(e):"function"===typeof p?p.apply(this,arguments):p;return constrain(_transform.identity.translate(p0[0],p0[1]).scale(t.k).translate("function"===typeof x?-x.apply(this,arguments):-x,"function"===typeof y?-y.apply(this,arguments):-y),e,translateExtent)},p,event)};Gesture.prototype={event:function(event){event&&(this.sourceEvent=event);return this},start:function(){1===++this.active&&(this.that.__zooming=this,this.emit("start"));return this},zoom:function(key,
transform){this.mouse&&"mouse"!==key&&(this.mouse[1]=transform.invert(this.mouse[0]));this.touch0&&"touch"!==key&&(this.touch0[1]=transform.invert(this.touch0[0]));this.touch1&&"touch"!==key&&(this.touch1[1]=transform.invert(this.touch1[0]));this.that.__zoom=transform;this.emit("zoom");return this},end:function(){0===--this.active&&(delete this.that.__zooming,this.emit("end"));return this},emit:function(type){var d=(0,_d3Selection.select)(this.that).datum();listeners.call(type,this.that,new _event.default(type,
{sourceEvent:this.sourceEvent,target:zoom,type,transform:this.that.__zoom,dispatch:listeners}),d)}};zoom.wheelDelta=function(_){return arguments.length?(wheelDelta="function"===typeof _?_:(0,_constant.default)(+_),zoom):wheelDelta};zoom.filter=function(_){return arguments.length?(filter="function"===typeof _?_:(0,_constant.default)(!!_),zoom):filter};zoom.touchable=function(_){return arguments.length?(touchable="function"===typeof _?_:(0,_constant.default)(!!_),zoom):touchable};zoom.extent=function(_){return arguments.length?
(extent$jscomp$0="function"===typeof _?_:(0,_constant.default)([[+_[0][0],+_[0][1]],[+_[1][0],+_[1][1]]]),zoom):extent$jscomp$0};zoom.scaleExtent=function(_){return arguments.length?(scaleExtent[0]=+_[0],scaleExtent[1]=+_[1],zoom):[scaleExtent[0],scaleExtent[1]]};zoom.translateExtent=function(_){return arguments.length?(translateExtent[0][0]=+_[0][0],translateExtent[1][0]=+_[1][0],translateExtent[0][1]=+_[0][1],translateExtent[1][1]=+_[1][1],zoom):[[translateExtent[0][0],translateExtent[0][1]],[translateExtent[1][0],
translateExtent[1][1]]]};zoom.constrain=function(_){return arguments.length?(constrain=_,zoom):constrain};zoom.duration=function(_){return arguments.length?(duration=+_,zoom):duration};zoom.interpolate=function(_){return arguments.length?(interpolate=_,zoom):interpolate};zoom.on=function(){var value=listeners.on.apply(listeners,arguments);return value===listeners?zoom:value};zoom.clickDistance=function(_){return arguments.length?(clickDistance2=(_=+_)*_,zoom):Math.sqrt(clickDistance2)};zoom.tapDistance=
function(_){return arguments.length?(tapDistance=+_,zoom):tapDistance};return zoom};var _d3Dispatch=require("module$node_modules$d3_dispatch$src$index"),_d3Drag=require("module$node_modules$d3_drag$src$index"),_d3Interpolate=require("module$node_modules$d3_interpolate$src$index"),_d3Selection=require("module$node_modules$d3_selection$src$index"),_d3Transition=require("module$node_modules$d3_transition$src$index"),_constant=_interopRequireDefault(require("module$node_modules$d3_zoom$src$constant")),
_event=_interopRequireDefault(require("module$node_modules$d3_zoom$src$event")),_transform=require("module$node_modules$d3_zoom$src$transform"),_noevent=function(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule)return obj;if(null===obj||"object"!==typeof obj&&"function"!==typeof obj)return{default:obj};if((nodeInterop=_getRequireWildcardCache(nodeInterop))&&nodeInterop.has(obj))return nodeInterop.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor,
key;for(key in obj)if("default"!==key&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj;nodeInterop&&nodeInterop.set(obj,newObj);return newObj}(require("module$node_modules$d3_zoom$src$noevent"))}
//# sourceMappingURL=module$node_modules$d3_zoom$src$zoom.js.map
