{
"version":3,
"file":"module$node_modules$d3_contour$src$density.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/d3-contour/src/density.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$d3_contour$src$density\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _d3Array = require(\"d3-array\");\n\nvar _array = require(\"./array.js\");\n\nvar _blur = require(\"./blur.js\");\n\nvar _constant = _interopRequireDefault(require(\"./constant.js\"));\n\nvar _contours = _interopRequireDefault(require(\"./contours.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction defaultX(d) {\n  return d[0];\n}\n\nfunction defaultY(d) {\n  return d[1];\n}\n\nfunction defaultWeight() {\n  return 1;\n}\n\nfunction _default() {\n  var x = defaultX,\n      y = defaultY,\n      weight = defaultWeight,\n      dx = 960,\n      dy = 500,\n      r = 20,\n      // blur radius\n  k = 2,\n      // log2(grid cell size)\n  o = r * 3,\n      // grid offset, to pad for blur\n  n = dx + o * 2 >> k,\n      // grid width\n  m = dy + o * 2 >> k,\n      // grid height\n  threshold = (0, _constant.default)(20);\n\n  function density(data) {\n    var values0 = new Float32Array(n * m),\n        values1 = new Float32Array(n * m),\n        pow2k = Math.pow(2, -k);\n    data.forEach(function (d, i, data) {\n      var xi = (x(d, i, data) + o) * pow2k,\n          yi = (y(d, i, data) + o) * pow2k,\n          wi = +weight(d, i, data);\n\n      if (xi >= 0 && xi < n && yi >= 0 && yi < m) {\n        var x0 = Math.floor(xi),\n            y0 = Math.floor(yi),\n            xt = xi - x0 - 0.5,\n            yt = yi - y0 - 0.5;\n        values0[x0 + y0 * n] += (1 - xt) * (1 - yt) * wi;\n        values0[x0 + 1 + y0 * n] += xt * (1 - yt) * wi;\n        values0[x0 + 1 + (y0 + 1) * n] += xt * yt * wi;\n        values0[x0 + (y0 + 1) * n] += (1 - xt) * yt * wi;\n      }\n    }); // TODO Optimize.\n\n    (0, _blur.blurX)({\n      width: n,\n      height: m,\n      data: values0\n    }, {\n      width: n,\n      height: m,\n      data: values1\n    }, r >> k);\n    (0, _blur.blurY)({\n      width: n,\n      height: m,\n      data: values1\n    }, {\n      width: n,\n      height: m,\n      data: values0\n    }, r >> k);\n    (0, _blur.blurX)({\n      width: n,\n      height: m,\n      data: values0\n    }, {\n      width: n,\n      height: m,\n      data: values1\n    }, r >> k);\n    (0, _blur.blurY)({\n      width: n,\n      height: m,\n      data: values1\n    }, {\n      width: n,\n      height: m,\n      data: values0\n    }, r >> k);\n    (0, _blur.blurX)({\n      width: n,\n      height: m,\n      data: values0\n    }, {\n      width: n,\n      height: m,\n      data: values1\n    }, r >> k);\n    (0, _blur.blurY)({\n      width: n,\n      height: m,\n      data: values1\n    }, {\n      width: n,\n      height: m,\n      data: values0\n    }, r >> k);\n    var tz = threshold(values0); // Convert number of thresholds into uniform thresholds.\n\n    if (!Array.isArray(tz)) {\n      var stop = (0, _d3Array.max)(values0);\n      tz = (0, _d3Array.tickStep)(0, stop, tz);\n      tz = (0, _d3Array.range)(0, Math.floor(stop / tz) * tz, tz);\n      tz.shift();\n    }\n\n    return (0, _contours.default)().thresholds(tz).size([n, m])(values0).map(transform);\n  }\n\n  function transform(geometry) {\n    geometry.value *= Math.pow(2, -2 * k); // Density in points per square pixel.\n\n    geometry.coordinates.forEach(transformPolygon);\n    return geometry;\n  }\n\n  function transformPolygon(coordinates) {\n    coordinates.forEach(transformRing);\n  }\n\n  function transformRing(coordinates) {\n    coordinates.forEach(transformPoint);\n  } // TODO Optimize.\n\n\n  function transformPoint(coordinates) {\n    coordinates[0] = coordinates[0] * Math.pow(2, k) - o;\n    coordinates[1] = coordinates[1] * Math.pow(2, k) - o;\n  }\n\n  function resize() {\n    o = r * 3;\n    n = dx + o * 2 >> k;\n    m = dy + o * 2 >> k;\n    return density;\n  }\n\n  density.x = function (_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : (0, _constant.default)(+_), density) : x;\n  };\n\n  density.y = function (_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : (0, _constant.default)(+_), density) : y;\n  };\n\n  density.weight = function (_) {\n    return arguments.length ? (weight = typeof _ === \"function\" ? _ : (0, _constant.default)(+_), density) : weight;\n  };\n\n  density.size = function (_) {\n    if (!arguments.length) return [dx, dy];\n\n    var _0 = +_[0],\n        _1 = +_[1];\n\n    if (!(_0 >= 0 && _1 >= 0)) throw new Error(\"invalid size\");\n    return dx = _0, dy = _1, resize();\n  };\n\n  density.cellSize = function (_) {\n    if (!arguments.length) return 1 << k;\n    if (!((_ = +_) >= 1)) throw new Error(\"invalid cell size\");\n    return k = Math.floor(Math.log(_) / Math.LN2), resize();\n  };\n\n  density.thresholds = function (_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? (0, _constant.default)(_array.slice.call(_)) : (0, _constant.default)(_), density) : threshold;\n  };\n\n  density.bandwidth = function (_) {\n    if (!arguments.length) return Math.sqrt(r * (r + 1));\n    if (!((_ = +_) >= 0)) throw new Error(\"invalid bandwidth\");\n    return r = Math.round((Math.sqrt(4 * _ * _ + 1) - 1) / 2), resize();\n  };\n\n  return density;\n}\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","default","defaultX","d","defaultY","defaultWeight","Object","defineProperty","value","_default","density","data","values0","Float32Array","n","m","values1","pow2k","Math","pow","k","forEach","i","xi","x","o","yi","y","wi","weight","x0","floor","y0","xt","yt","_blur","blurX","width","height","r","blurY","tz","threshold","Array","isArray","stop","_d3Array","max","tickStep","range","shift","_contours","thresholds","size","map","transform","geometry","coordinates","transformPolygon","transformRing","transformPoint","resize","dx","dy","_constant","density.x","_","arguments","length","density.y","density.weight","density.size","_0","_1","Error","cellSize","density.cellSize","log","LN2","density.thresholds","_array","slice","call","bandwidth","density.bandwidth","sqrt","round"]
}
