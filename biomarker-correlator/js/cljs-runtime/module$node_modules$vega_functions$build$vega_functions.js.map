{
"version":3,
"file":"module$node_modules$vega_functions$build$vega_functions.js",
"lineCount":35,
"mappings":"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",
"sources":["node_modules/vega-functions/build/vega-functions.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_functions$build$vega_functions\"] = function(global,require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-util'), require('vega-expression'), require('d3-geo'), require('d3-color'), require('vega-dataflow'), require('vega-scale'), require('vega-scenegraph'), require('vega-selections'), require('vega-statistics'), require('vega-time'), require('d3-array')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-util', 'vega-expression', 'd3-geo', 'd3-color', 'vega-dataflow', 'vega-scale', 'vega-scenegraph', 'vega-selections', 'vega-statistics', 'vega-time', 'd3-array'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.vega = {}, global.vega, global.vega, global.d3, global.d3, global.vega, global.vega, global.vega, global.vega, global.vega, global.vega, global.d3));\n}(this, (function (exports, vegaUtil, vegaExpression, d3Geo, d3Color, vegaDataflow, vegaScale, vegaScenegraph, vegaSelections, vegaStatistics, vegaTime, d3Array) { 'use strict';\n\n  function data(name) {\n    const data = this.context.data[name];\n    return data ? data.values.value : [];\n  }\n  function indata(name, field, value) {\n    const index = this.context.data[name]['index:' + field],\n          entry = index ? index.value.get(value) : undefined;\n    return entry ? entry.count : entry;\n  }\n  function setdata(name, tuples) {\n    const df = this.context.dataflow,\n          data = this.context.data[name],\n          input = data.input;\n    df.pulse(input, df.changeset().remove(vegaUtil.truthy).insert(tuples));\n    return 1;\n  }\n\n  function encode (item, name, retval) {\n    if (item) {\n      const df = this.context.dataflow,\n            target = item.mark.source;\n      df.pulse(target, df.changeset().encode(item, name));\n    }\n\n    return retval !== undefined ? retval : item;\n  }\n\n  const wrap = method => function (value, spec) {\n    const locale = this.context.dataflow.locale();\n    return locale[method](spec)(value);\n  };\n\n  const format = wrap('format');\n  const timeFormat = wrap('timeFormat');\n  const utcFormat = wrap('utcFormat');\n  const timeParse = wrap('timeParse');\n  const utcParse = wrap('utcParse');\n  const dateObj = new Date(2000, 0, 1);\n\n  function time(month, day, specifier) {\n    if (!Number.isInteger(month) || !Number.isInteger(day)) return '';\n    dateObj.setYear(2000);\n    dateObj.setMonth(month);\n    dateObj.setDate(day);\n    return timeFormat.call(this, dateObj, specifier);\n  }\n\n  function monthFormat(month) {\n    return time.call(this, month, 1, '%B');\n  }\n  function monthAbbrevFormat(month) {\n    return time.call(this, month, 1, '%b');\n  }\n  function dayFormat(day) {\n    return time.call(this, 0, 2 + day, '%A');\n  }\n  function dayAbbrevFormat(day) {\n    return time.call(this, 0, 2 + day, '%a');\n  }\n\n  const DataPrefix = ':';\n  const IndexPrefix = '@';\n  const ScalePrefix = '%';\n  const SignalPrefix = '$';\n\n  function dataVisitor(name, args, scope, params) {\n    if (args[0].type !== vegaExpression.Literal) {\n      vegaUtil.error('First argument to data functions must be a string literal.');\n    }\n\n    const data = args[0].value,\n          dataName = DataPrefix + data;\n\n    if (!vegaUtil.hasOwnProperty(dataName, params)) {\n      try {\n        params[dataName] = scope.getData(data).tuplesRef();\n      } catch (err) {// if data set does not exist, there's nothing to track\n      }\n    }\n  }\n  function indataVisitor(name, args, scope, params) {\n    if (args[0].type !== vegaExpression.Literal) vegaUtil.error('First argument to indata must be a string literal.');\n    if (args[1].type !== vegaExpression.Literal) vegaUtil.error('Second argument to indata must be a string literal.');\n    const data = args[0].value,\n          field = args[1].value,\n          indexName = IndexPrefix + field;\n\n    if (!vegaUtil.hasOwnProperty(indexName, params)) {\n      params[indexName] = scope.getData(data).indataRef(scope, field);\n    }\n  }\n  function scaleVisitor(name, args, scope, params) {\n    if (args[0].type === vegaExpression.Literal) {\n      // add scale dependency\n      addScaleDependency(scope, params, args[0].value);\n    } else {\n      // indirect scale lookup; add all scales as parameters\n      for (name in scope.scales) {\n        addScaleDependency(scope, params, name);\n      }\n    }\n  }\n\n  function addScaleDependency(scope, params, name) {\n    const scaleName = ScalePrefix + name;\n\n    if (!vegaUtil.hasOwnProperty(params, scaleName)) {\n      try {\n        params[scaleName] = scope.scaleRef(name);\n      } catch (err) {// TODO: error handling? warning?\n      }\n    }\n  }\n\n  function getScale(name, ctx) {\n    let s;\n    return vegaUtil.isFunction(name) ? name : vegaUtil.isString(name) ? (s = ctx.scales[name]) && s.value : undefined;\n  }\n  function internalScaleFunctions(codegen, fnctx, visitors) {\n    // add helper method to the 'this' expression function context\n    fnctx.__bandwidth = s => s && s.bandwidth ? s.bandwidth() : 0; // register AST visitors for internal scale functions\n\n\n    visitors._bandwidth = scaleVisitor;\n    visitors._range = scaleVisitor;\n    visitors._scale = scaleVisitor; // resolve scale reference directly to the signal hash argument\n\n    const ref = arg => '_[' + (arg.type === vegaExpression.Literal ? vegaUtil.stringValue(ScalePrefix + arg.value) : vegaUtil.stringValue(ScalePrefix) + '+' + codegen(arg)) + ']'; // define and return internal scale function code generators\n    // these internal functions are called by mark encoders\n\n\n    return {\n      _bandwidth: args => `this.__bandwidth(${ref(args[0])})`,\n      _range: args => `${ref(args[0])}.range()`,\n      _scale: args => `${ref(args[0])}(${codegen(args[1])})`\n    };\n  }\n\n  function geoMethod(methodName, globalMethod) {\n    return function (projection, geojson, group) {\n      if (projection) {\n        // projection defined, use it\n        const p = getScale(projection, (group || this).context);\n        return p && p.path[methodName](geojson);\n      } else {\n        // projection undefined, use global method\n        return globalMethod(geojson);\n      }\n    };\n  }\n\n  const geoArea = geoMethod('area', d3Geo.geoArea);\n  const geoBounds = geoMethod('bounds', d3Geo.geoBounds);\n  const geoCentroid = geoMethod('centroid', d3Geo.geoCentroid);\n\n  function inScope (item) {\n    const group = this.context.group;\n    let value = false;\n    if (group) while (item) {\n      if (item === group) {\n        value = true;\n        break;\n      }\n\n      item = item.mark.group;\n    }\n    return value;\n  }\n\n  function log(df, method, args) {\n    try {\n      df[method].apply(df, ['EXPRESSION'].concat([].slice.call(args)));\n    } catch (err) {\n      df.warn(err);\n    }\n\n    return args[args.length - 1];\n  }\n\n  function warn() {\n    return log(this.context.dataflow, 'warn', arguments);\n  }\n  function info() {\n    return log(this.context.dataflow, 'info', arguments);\n  }\n  function debug() {\n    return log(this.context.dataflow, 'debug', arguments);\n  }\n\n  function channel_luminance_value(channelValue) {\n    const val = channelValue / 255;\n\n    if (val <= 0.03928) {\n      return val / 12.92;\n    }\n\n    return Math.pow((val + 0.055) / 1.055, 2.4);\n  }\n\n  function luminance(color) {\n    const c = d3Color.rgb(color),\n          r = channel_luminance_value(c.r),\n          g = channel_luminance_value(c.g),\n          b = channel_luminance_value(c.b);\n    return 0.2126 * r + 0.7152 * g + 0.0722 * b;\n  } // https://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\n\n  function contrast(color1, color2) {\n    const lum1 = luminance(color1),\n          lum2 = luminance(color2),\n          lumL = Math.max(lum1, lum2),\n          lumD = Math.min(lum1, lum2);\n    return (lumL + 0.05) / (lumD + 0.05);\n  }\n\n  function merge () {\n    const args = [].slice.call(arguments);\n    args.unshift({});\n    return vegaUtil.extend(...args);\n  }\n\n  function equal(a, b) {\n    return a === b || a !== a && b !== b ? true : vegaUtil.isArray(a) ? vegaUtil.isArray(b) && a.length === b.length ? equalArray(a, b) : false : vegaUtil.isObject(a) && vegaUtil.isObject(b) ? equalObject(a, b) : false;\n  }\n\n  function equalArray(a, b) {\n    for (let i = 0, n = a.length; i < n; ++i) {\n      if (!equal(a[i], b[i])) return false;\n    }\n\n    return true;\n  }\n\n  function equalObject(a, b) {\n    for (const key in a) {\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  function removePredicate(props) {\n    return _ => equalObject(props, _);\n  }\n\n  function modify (name, insert, remove, toggle, modify, values) {\n    const df = this.context.dataflow,\n          data = this.context.data[name],\n          input = data.input,\n          stamp = df.stamp();\n    let changes = data.changes,\n        predicate,\n        key;\n\n    if (df._trigger === false || !(input.value.length || insert || toggle)) {\n      // nothing to do!\n      return 0;\n    }\n\n    if (!changes || changes.stamp < stamp) {\n      data.changes = changes = df.changeset();\n      changes.stamp = stamp;\n      df.runAfter(() => {\n        data.modified = true;\n        df.pulse(input, changes).run();\n      }, true, 1);\n    }\n\n    if (remove) {\n      predicate = remove === true ? vegaUtil.truthy : vegaUtil.isArray(remove) || vegaDataflow.isTuple(remove) ? remove : removePredicate(remove);\n      changes.remove(predicate);\n    }\n\n    if (insert) {\n      changes.insert(insert);\n    }\n\n    if (toggle) {\n      predicate = removePredicate(toggle);\n\n      if (input.value.some(predicate)) {\n        changes.remove(predicate);\n      } else {\n        changes.insert(toggle);\n      }\n    }\n\n    if (modify) {\n      for (key in values) {\n        changes.modify(modify, key, values[key]);\n      }\n    }\n\n    return 1;\n  }\n\n  function pinchDistance(event) {\n    const t = event.touches,\n          dx = t[0].clientX - t[1].clientX,\n          dy = t[0].clientY - t[1].clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n  function pinchAngle(event) {\n    const t = event.touches;\n    return Math.atan2(t[0].clientY - t[1].clientY, t[0].clientX - t[1].clientX);\n  }\n\n  const accessors = {};\n  function pluck (data, name) {\n    const accessor = accessors[name] || (accessors[name] = vegaUtil.field(name));\n    return vegaUtil.isArray(data) ? data.map(accessor) : accessor(data);\n  }\n\n  function array(seq) {\n    return vegaUtil.isArray(seq) || ArrayBuffer.isView(seq) ? seq : null;\n  }\n\n  function sequence(seq) {\n    return array(seq) || (vegaUtil.isString(seq) ? seq : null);\n  }\n\n  function join(seq, ...args) {\n    return array(seq).join(...args);\n  }\n  function indexof(seq, ...args) {\n    return sequence(seq).indexOf(...args);\n  }\n  function lastindexof(seq, ...args) {\n    return sequence(seq).lastIndexOf(...args);\n  }\n  function slice(seq, ...args) {\n    return sequence(seq).slice(...args);\n  }\n  function replace(str, pattern, repl) {\n    if (vegaUtil.isFunction(repl)) vegaUtil.error('Function argument passed to replace.');\n    return String(str).replace(pattern, repl);\n  }\n  function reverse(seq) {\n    return array(seq).slice().reverse();\n  }\n\n  function bandspace(count, paddingInner, paddingOuter) {\n    return vegaScale.bandSpace(count || 0, paddingInner || 0, paddingOuter || 0);\n  }\n  function bandwidth(name, group) {\n    const s = getScale(name, (group || this).context);\n    return s && s.bandwidth ? s.bandwidth() : 0;\n  }\n  function copy(name, group) {\n    const s = getScale(name, (group || this).context);\n    return s ? s.copy() : undefined;\n  }\n  function domain(name, group) {\n    const s = getScale(name, (group || this).context);\n    return s ? s.domain() : [];\n  }\n  function invert(name, range, group) {\n    const s = getScale(name, (group || this).context);\n    return !s ? undefined : vegaUtil.isArray(range) ? (s.invertRange || s.invert)(range) : (s.invert || s.invertExtent)(range);\n  }\n  function range(name, group) {\n    const s = getScale(name, (group || this).context);\n    return s && s.range ? s.range() : [];\n  }\n  function scale(name, value, group) {\n    const s = getScale(name, (group || this).context);\n    return s ? s(value) : undefined;\n  }\n\n  function scaleGradient (scale, p0, p1, count, group) {\n    scale = getScale(scale, (group || this).context);\n    const gradient = vegaScenegraph.Gradient(p0, p1);\n    let stops = scale.domain(),\n        min = stops[0],\n        max = vegaUtil.peek(stops),\n        fraction = vegaUtil.identity;\n\n    if (!(max - min)) {\n      // expand scale if domain has zero span, fix #1479\n      scale = (scale.interpolator ? vegaScale.scale('sequential')().interpolator(scale.interpolator()) : vegaScale.scale('linear')().interpolate(scale.interpolate()).range(scale.range())).domain([min = 0, max = 1]);\n    } else {\n      fraction = vegaScale.scaleFraction(scale, min, max);\n    }\n\n    if (scale.ticks) {\n      stops = scale.ticks(+count || 15);\n      if (min !== stops[0]) stops.unshift(min);\n      if (max !== vegaUtil.peek(stops)) stops.push(max);\n    }\n\n    stops.forEach(_ => gradient.stop(fraction(_), scale(_)));\n    return gradient;\n  }\n\n  function geoShape(projection, geojson, group) {\n    const p = getScale(projection, (group || this).context);\n    return function (context) {\n      return p ? p.path.context(context)(geojson) : '';\n    };\n  }\n  function pathShape(path) {\n    let p = null;\n    return function (context) {\n      return context ? vegaScenegraph.pathRender(context, p = p || vegaScenegraph.pathParse(path)) : path;\n    };\n  }\n\n  const datum = d => d.data;\n\n  function treeNodes(name, context) {\n    const tree = data.call(context, name);\n    return tree.root && tree.root.lookup || {};\n  }\n\n  function treePath(name, source, target) {\n    const nodes = treeNodes(name, this),\n          s = nodes[source],\n          t = nodes[target];\n    return s && t ? s.path(t).map(datum) : undefined;\n  }\n  function treeAncestors(name, node) {\n    const n = treeNodes(name, this)[node];\n    return n ? n.ancestors().map(datum) : undefined;\n  }\n\n  const _window = () => typeof window !== 'undefined' && window || null;\n\n  function screen() {\n    const w = _window();\n\n    return w ? w.screen : {};\n  }\n  function windowSize() {\n    const w = _window();\n\n    return w ? [w.innerWidth, w.innerHeight] : [undefined, undefined];\n  }\n  function containerSize() {\n    const view = this.context.dataflow,\n          el = view.container && view.container();\n    return el ? [el.clientWidth, el.clientHeight] : [undefined, undefined];\n  }\n\n  function intersect (b, opt, group) {\n    if (!b) return [];\n    const [u, v] = b,\n          box = new vegaScenegraph.Bounds().set(u[0], u[1], v[0], v[1]),\n          scene = group || this.context.dataflow.scenegraph().root;\n    return vegaScenegraph.intersect(scene, box, filter(opt));\n  }\n\n  function filter(opt) {\n    let p = null;\n\n    if (opt) {\n      const types = vegaUtil.array(opt.marktype),\n            names = vegaUtil.array(opt.markname);\n\n      p = _ => (!types.length || types.some(t => _.marktype === t)) && (!names.length || names.some(s => _.name === s));\n    }\n\n    return p;\n  }\n\n  const functionContext = {\n    random() {\n      return vegaStatistics.random();\n    },\n\n    // override default\n    cumulativeNormal: vegaStatistics.cumulativeNormal,\n    cumulativeLogNormal: vegaStatistics.cumulativeLogNormal,\n    cumulativeUniform: vegaStatistics.cumulativeUniform,\n    densityNormal: vegaStatistics.densityNormal,\n    densityLogNormal: vegaStatistics.densityLogNormal,\n    densityUniform: vegaStatistics.densityUniform,\n    quantileNormal: vegaStatistics.quantileNormal,\n    quantileLogNormal: vegaStatistics.quantileLogNormal,\n    quantileUniform: vegaStatistics.quantileUniform,\n    sampleNormal: vegaStatistics.sampleNormal,\n    sampleLogNormal: vegaStatistics.sampleLogNormal,\n    sampleUniform: vegaStatistics.sampleUniform,\n    isArray: vegaUtil.isArray,\n    isBoolean: vegaUtil.isBoolean,\n    isDate: vegaUtil.isDate,\n\n    isDefined(_) {\n      return _ !== undefined;\n    },\n\n    isNumber: vegaUtil.isNumber,\n    isObject: vegaUtil.isObject,\n    isRegExp: vegaUtil.isRegExp,\n    isString: vegaUtil.isString,\n    isTuple: vegaDataflow.isTuple,\n\n    isValid(_) {\n      return _ != null && _ === _;\n    },\n\n    toBoolean: vegaUtil.toBoolean,\n    toDate: vegaUtil.toDate,\n    toNumber: vegaUtil.toNumber,\n    toString: vegaUtil.toString,\n    indexof,\n    join,\n    lastindexof,\n    replace,\n    reverse,\n    slice,\n    flush: vegaUtil.flush,\n    lerp: vegaUtil.lerp,\n    merge,\n    pad: vegaUtil.pad,\n    peek: vegaUtil.peek,\n    pluck,\n    span: vegaUtil.span,\n    inrange: vegaUtil.inrange,\n    truncate: vegaUtil.truncate,\n    rgb: d3Color.rgb,\n    lab: d3Color.lab,\n    hcl: d3Color.hcl,\n    hsl: d3Color.hsl,\n    luminance,\n    contrast,\n    sequence: d3Array.range,\n    format,\n    utcFormat,\n    utcParse,\n    utcOffset: vegaTime.utcOffset,\n    utcSequence: vegaTime.utcSequence,\n    timeFormat,\n    timeParse,\n    timeOffset: vegaTime.timeOffset,\n    timeSequence: vegaTime.timeSequence,\n    timeUnitSpecifier: vegaTime.timeUnitSpecifier,\n    monthFormat,\n    monthAbbrevFormat,\n    dayFormat,\n    dayAbbrevFormat,\n    quarter: vegaUtil.quarter,\n    utcquarter: vegaUtil.utcquarter,\n    week: vegaTime.week,\n    utcweek: vegaTime.utcweek,\n    dayofyear: vegaTime.dayofyear,\n    utcdayofyear: vegaTime.utcdayofyear,\n    warn,\n    info,\n    debug,\n    extent: vegaUtil.extent,\n    inScope,\n    intersect,\n    clampRange: vegaUtil.clampRange,\n    pinchDistance,\n    pinchAngle,\n    screen,\n    containerSize,\n    windowSize,\n    bandspace,\n    setdata,\n    pathShape,\n    panLinear: vegaUtil.panLinear,\n    panLog: vegaUtil.panLog,\n    panPow: vegaUtil.panPow,\n    panSymlog: vegaUtil.panSymlog,\n    zoomLinear: vegaUtil.zoomLinear,\n    zoomLog: vegaUtil.zoomLog,\n    zoomPow: vegaUtil.zoomPow,\n    zoomSymlog: vegaUtil.zoomSymlog,\n    encode,\n    modify\n  };\n  const eventFunctions = ['view', 'item', 'group', 'xy', 'x', 'y'],\n        // event functions\n  eventPrefix = 'event.vega.',\n        // event function prefix\n  thisPrefix = 'this.',\n        // function context prefix\n  astVisitors = {}; // AST visitors for dependency analysis\n  // export code generator parameters\n\n  const codegenParams = {\n    forbidden: ['_'],\n    allowed: ['datum', 'event', 'item'],\n    fieldvar: 'datum',\n    globalvar: id => `_[${vegaUtil.stringValue(SignalPrefix + id)}]`,\n    functions: buildFunctions,\n    constants: vegaExpression.constants,\n    visitors: astVisitors\n  }; // export code generator\n\n  const codeGenerator = vegaExpression.codegenExpression(codegenParams); // Build expression function registry\n\n  function buildFunctions(codegen) {\n    const fn = vegaExpression.functions(codegen);\n    eventFunctions.forEach(name => fn[name] = eventPrefix + name);\n\n    for (const name in functionContext) {\n      fn[name] = thisPrefix + name;\n    }\n\n    vegaUtil.extend(fn, internalScaleFunctions(codegen, functionContext, astVisitors));\n    return fn;\n  } // Register an expression function\n\n\n  function expressionFunction(name, fn, visitor) {\n    if (arguments.length === 1) {\n      return functionContext[name];\n    } // register with the functionContext\n\n\n    functionContext[name] = fn; // if there is an astVisitor register that, too\n\n    if (visitor) astVisitors[name] = visitor; // if the code generator has already been initialized,\n    // we need to also register the function with it\n\n    if (codeGenerator) codeGenerator.functions[name] = thisPrefix + name;\n    return this;\n  } // register expression functions with ast visitors\n\n  expressionFunction('bandwidth', bandwidth, scaleVisitor);\n  expressionFunction('copy', copy, scaleVisitor);\n  expressionFunction('domain', domain, scaleVisitor);\n  expressionFunction('range', range, scaleVisitor);\n  expressionFunction('invert', invert, scaleVisitor);\n  expressionFunction('scale', scale, scaleVisitor);\n  expressionFunction('gradient', scaleGradient, scaleVisitor);\n  expressionFunction('geoArea', geoArea, scaleVisitor);\n  expressionFunction('geoBounds', geoBounds, scaleVisitor);\n  expressionFunction('geoCentroid', geoCentroid, scaleVisitor);\n  expressionFunction('geoShape', geoShape, scaleVisitor);\n  expressionFunction('indata', indata, indataVisitor);\n  expressionFunction('data', data, dataVisitor);\n  expressionFunction('treePath', treePath, dataVisitor);\n  expressionFunction('treeAncestors', treeAncestors, dataVisitor); // register Vega-Lite selection functions\n\n  expressionFunction('vlSelectionTest', vegaSelections.selectionTest, vegaSelections.selectionVisitor);\n  expressionFunction('vlSelectionIdTest', vegaSelections.selectionIdTest, vegaSelections.selectionVisitor);\n  expressionFunction('vlSelectionResolve', vegaSelections.selectionResolve, vegaSelections.selectionVisitor);\n  expressionFunction('vlSelectionTuples', vegaSelections.selectionTuples);\n\n  function parser (expr, scope) {\n    const params = {}; // parse the expression to an abstract syntax tree (ast)\n\n    let ast;\n\n    try {\n      expr = vegaUtil.isString(expr) ? expr : vegaUtil.stringValue(expr) + '';\n      ast = vegaExpression.parseExpression(expr);\n    } catch (err) {\n      vegaUtil.error('Expression parse error: ' + expr);\n    } // analyze ast function calls for dependencies\n\n\n    ast.visit(node => {\n      if (node.type !== vegaExpression.CallExpression) return;\n      const name = node.callee.name,\n            visit = codegenParams.visitors[name];\n      if (visit) visit(name, node.arguments, scope, params);\n    }); // perform code generation\n\n    const gen = codeGenerator(ast); // collect signal dependencies\n\n    gen.globals.forEach(name => {\n      const signalName = SignalPrefix + name;\n\n      if (!vegaUtil.hasOwnProperty(params, signalName) && scope.getSignal(name)) {\n        params[signalName] = scope.signalRef(name);\n      }\n    }); // return generated expression code and dependencies\n\n    return {\n      $expr: vegaUtil.extend({\n        code: gen.code\n      }, scope.options.ast ? {\n        ast\n      } : null),\n      $fields: gen.fields,\n      $params: params\n    };\n  }\n\n  exports.DataPrefix = DataPrefix;\n  exports.IndexPrefix = IndexPrefix;\n  exports.ScalePrefix = ScalePrefix;\n  exports.SignalPrefix = SignalPrefix;\n  exports.bandspace = bandspace;\n  exports.bandwidth = bandwidth;\n  exports.codeGenerator = codeGenerator;\n  exports.codegenParams = codegenParams;\n  exports.containerSize = containerSize;\n  exports.contrast = contrast;\n  exports.copy = copy;\n  exports.data = data;\n  exports.dataVisitor = dataVisitor;\n  exports.dayAbbrevFormat = dayAbbrevFormat;\n  exports.dayFormat = dayFormat;\n  exports.debug = debug;\n  exports.domain = domain;\n  exports.encode = encode;\n  exports.expressionFunction = expressionFunction;\n  exports.format = format;\n  exports.functionContext = functionContext;\n  exports.geoArea = geoArea;\n  exports.geoBounds = geoBounds;\n  exports.geoCentroid = geoCentroid;\n  exports.geoShape = geoShape;\n  exports.inScope = inScope;\n  exports.indata = indata;\n  exports.indataVisitor = indataVisitor;\n  exports.indexof = indexof;\n  exports.info = info;\n  exports.invert = invert;\n  exports.join = join;\n  exports.lastindexof = lastindexof;\n  exports.luminance = luminance;\n  exports.merge = merge;\n  exports.modify = modify;\n  exports.monthAbbrevFormat = monthAbbrevFormat;\n  exports.monthFormat = monthFormat;\n  exports.parseExpression = parser;\n  exports.pathShape = pathShape;\n  exports.pinchAngle = pinchAngle;\n  exports.pinchDistance = pinchDistance;\n  exports.pluck = pluck;\n  exports.range = range;\n  exports.replace = replace;\n  exports.reverse = reverse;\n  exports.scale = scale;\n  exports.scaleGradient = scaleGradient;\n  exports.scaleVisitor = scaleVisitor;\n  exports.screen = screen;\n  exports.setdata = setdata;\n  exports.slice = slice;\n  exports.timeFormat = timeFormat;\n  exports.timeParse = timeParse;\n  exports.treeAncestors = treeAncestors;\n  exports.treePath = treePath;\n  exports.utcFormat = utcFormat;\n  exports.utcParse = utcParse;\n  exports.warn = warn;\n  exports.windowSize = windowSize;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n};"],
"names":["shadow$provide","global","require","module","exports","factory","define","amd","globalThis","self","vega","d3","vegaUtil","vegaExpression","d3Geo","d3Color","vegaDataflow","vegaScale","vegaScenegraph","vegaSelections","vegaStatistics","vegaTime","d3Array","data","name","context","values","value","indata","field","entry","index","get","undefined","count","setdata","tuples","df","dataflow","pulse","input","changeset","remove","truthy","insert","encode","item","retval","mark","source","time","month","day","specifier","Number","isInteger","dateObj","setYear","setMonth","setDate","timeFormat","call","monthFormat","monthAbbrevFormat","dayFormat","dayAbbrevFormat","dataVisitor","args","scope","params","type","Literal","error","dataName","DataPrefix","hasOwnProperty","getData","tuplesRef","err","indataVisitor","indexName","IndexPrefix","indataRef","scaleVisitor","addScaleDependency","scales","scaleName","ScalePrefix","scaleRef","getScale","ctx","s","isFunction","isString","internalScaleFunctions","codegen","fnctx","visitors","__bandwidth","fnctx.__bandwidth","bandwidth","_bandwidth","_range","_scale","ref","arg","stringValue","geoMethod","methodName","globalMethod","projection","geojson","group","p","path","inScope","log","method","apply","concat","slice","warn","length","arguments","info","debug","channel_luminance_value","channelValue","val","Math","pow","luminance","color","c","rgb","r","g","b","contrast","color1","color2","lum1","lum2","max","lumL","min","lumD","merge","unshift","extend","equal","a","i","n","equalObject","key","removePredicate","props","_","modify","toggle","stamp","changes","_trigger","runAfter","modified","run","predicate","isArray","isTuple","some","pinchDistance","event","t","touches","dx","clientX","dy","clientY","sqrt","pinchAngle","atan2","pluck","accessor","accessors","map","array","seq","ArrayBuffer","isView","sequence","join","indexof","indexOf","lastindexof","lastIndexOf","replace","str","pattern","repl","String","reverse","bandspace","paddingInner","paddingOuter","bandSpace","copy","domain","invert","range","invertRange","invertExtent","scale","scaleGradient","p0","p1","gradient","Gradient","stops","peek","fraction","identity","scaleFraction","interpolator","interpolate","ticks","push","forEach","stop","geoShape","pathShape","pathRender","pathParse","treeNodes","tree","root","lookup","treePath","target","nodes","datum","treeAncestors","node","ancestors","screen","w","window","windowSize","innerWidth","innerHeight","containerSize","view","el","container","clientWidth","clientHeight","filter","opt","types","marktype","names","markname","expressionFunction","fn","visitor","functionContext","astVisitors","codeGenerator","functions","thisPrefix","wrap","spec","locale","format","utcFormat","timeParse","utcParse","Date","geoArea","geoBounds","geoCentroid","d","random","cumulativeNormal","cumulativeLogNormal","cumulativeUniform","densityNormal","densityLogNormal","densityUniform","quantileNormal","quantileLogNormal","quantileUniform","sampleNormal","sampleLogNormal","sampleUniform","isBoolean","isDate","isDefined","isNumber","isObject","isRegExp","isValid","toBoolean","toDate","toNumber","toString","flush","lerp","pad","span","inrange","truncate","lab","hcl","hsl","utcOffset","utcSequence","timeOffset","timeSequence","timeUnitSpecifier","quarter","utcquarter","week","utcweek","dayofyear","utcdayofyear","extent","intersect","u","v","box","set","Bounds","scene","scenegraph","clampRange","panLinear","panLog","panPow","panSymlog","zoomLinear","zoomLog","zoomPow","zoomSymlog","eventFunctions","codegenParams","forbidden","allowed","fieldvar","globalvar","id","SignalPrefix","buildFunctions","eventPrefix","constants","codegenExpression","selectionTest","selectionVisitor","selectionIdTest","selectionResolve","selectionTuples","parseExpression","parser","expr","ast","visit","CallExpression","callee","gen","globals","signalName","getSignal","signalRef","$expr","code","options","$fields","fields","$params","Object","defineProperty"]
}
