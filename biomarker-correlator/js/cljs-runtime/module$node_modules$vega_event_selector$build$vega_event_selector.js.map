{
"version":3,
"file":"module$node_modules$vega_event_selector$build$vega_event_selector.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/vega-event-selector/build/vega-event-selector.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_event_selector$build$vega_event_selector\"] = function(global,require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.vega = {}));\n}(this, (function (exports) { 'use strict';\n\n  const VIEW = 'view',\n        LBRACK = '[',\n        RBRACK = ']',\n        LBRACE = '{',\n        RBRACE = '}',\n        COLON = ':',\n        COMMA = ',',\n        NAME = '@',\n        GT = '>',\n        ILLEGAL = /[[\\]{}]/,\n        DEFAULT_MARKS = {\n    '*': 1,\n    arc: 1,\n    area: 1,\n    group: 1,\n    image: 1,\n    line: 1,\n    path: 1,\n    rect: 1,\n    rule: 1,\n    shape: 1,\n    symbol: 1,\n    text: 1,\n    trail: 1\n  };\n  let DEFAULT_SOURCE, MARKS;\n  /**\n   * Parse an event selector string.\n   * Returns an array of event stream definitions.\n   */\n\n  function eventSelector (selector, source, marks) {\n    DEFAULT_SOURCE = source || VIEW;\n    MARKS = marks || DEFAULT_MARKS;\n    return parseMerge(selector.trim()).map(parseSelector);\n  }\n\n  function isMarkType(type) {\n    return MARKS[type];\n  }\n\n  function find(s, i, endChar, pushChar, popChar) {\n    const n = s.length;\n    let count = 0,\n        c;\n\n    for (; i < n; ++i) {\n      c = s[i];\n      if (!count && c === endChar) return i;else if (popChar && popChar.indexOf(c) >= 0) --count;else if (pushChar && pushChar.indexOf(c) >= 0) ++count;\n    }\n\n    return i;\n  }\n\n  function parseMerge(s) {\n    const output = [],\n          n = s.length;\n    let start = 0,\n        i = 0;\n\n    while (i < n) {\n      i = find(s, i, COMMA, LBRACK + LBRACE, RBRACK + RBRACE);\n      output.push(s.substring(start, i).trim());\n      start = ++i;\n    }\n\n    if (output.length === 0) {\n      throw 'Empty event selector: ' + s;\n    }\n\n    return output;\n  }\n\n  function parseSelector(s) {\n    return s[0] === '[' ? parseBetween(s) : parseStream(s);\n  }\n\n  function parseBetween(s) {\n    const n = s.length;\n    let i = 1,\n        b;\n    i = find(s, i, RBRACK, LBRACK, RBRACK);\n\n    if (i === n) {\n      throw 'Empty between selector: ' + s;\n    }\n\n    b = parseMerge(s.substring(1, i));\n\n    if (b.length !== 2) {\n      throw 'Between selector must have two elements: ' + s;\n    }\n\n    s = s.slice(i + 1).trim();\n\n    if (s[0] !== GT) {\n      throw 'Expected \\'>\\' after between selector: ' + s;\n    }\n\n    b = b.map(parseSelector);\n    const stream = parseSelector(s.slice(1).trim());\n\n    if (stream.between) {\n      return {\n        between: b,\n        stream: stream\n      };\n    } else {\n      stream.between = b;\n    }\n\n    return stream;\n  }\n\n  function parseStream(s) {\n    const stream = {\n      source: DEFAULT_SOURCE\n    },\n          source = [];\n    let throttle = [0, 0],\n        markname = 0,\n        start = 0,\n        n = s.length,\n        i = 0,\n        j,\n        filter; // extract throttle from end\n\n    if (s[n - 1] === RBRACE) {\n      i = s.lastIndexOf(LBRACE);\n\n      if (i >= 0) {\n        try {\n          throttle = parseThrottle(s.substring(i + 1, n - 1));\n        } catch (e) {\n          throw 'Invalid throttle specification: ' + s;\n        }\n\n        s = s.slice(0, i).trim();\n        n = s.length;\n      } else throw 'Unmatched right brace: ' + s;\n\n      i = 0;\n    }\n\n    if (!n) throw s; // set name flag based on first char\n\n    if (s[0] === NAME) markname = ++i; // extract first part of multi-part stream selector\n\n    j = find(s, i, COLON);\n\n    if (j < n) {\n      source.push(s.substring(start, j).trim());\n      start = i = ++j;\n    } // extract remaining part of stream selector\n\n\n    i = find(s, i, LBRACK);\n\n    if (i === n) {\n      source.push(s.substring(start, n).trim());\n    } else {\n      source.push(s.substring(start, i).trim());\n      filter = [];\n      start = ++i;\n      if (start === n) throw 'Unmatched left bracket: ' + s;\n    } // extract filters\n\n\n    while (i < n) {\n      i = find(s, i, RBRACK);\n      if (i === n) throw 'Unmatched left bracket: ' + s;\n      filter.push(s.substring(start, i).trim());\n      if (i < n - 1 && s[++i] !== LBRACK) throw 'Expected left bracket: ' + s;\n      start = ++i;\n    } // marshall event stream specification\n\n\n    if (!(n = source.length) || ILLEGAL.test(source[n - 1])) {\n      throw 'Invalid event selector: ' + s;\n    }\n\n    if (n > 1) {\n      stream.type = source[1];\n\n      if (markname) {\n        stream.markname = source[0].slice(1);\n      } else if (isMarkType(source[0])) {\n        stream.marktype = source[0];\n      } else {\n        stream.source = source[0];\n      }\n    } else {\n      stream.type = source[0];\n    }\n\n    if (stream.type.slice(-1) === '!') {\n      stream.consume = true;\n      stream.type = stream.type.slice(0, -1);\n    }\n\n    if (filter != null) stream.filter = filter;\n    if (throttle[0]) stream.throttle = throttle[0];\n    if (throttle[1]) stream.debounce = throttle[1];\n    return stream;\n  }\n\n  function parseThrottle(s) {\n    const a = s.split(COMMA);\n    if (!s.length || a.length > 2) throw s;\n    return a.map(_ => {\n      const x = +_;\n      if (x !== x) throw s;\n      return x;\n    });\n  }\n\n  exports.parseSelector = eventSelector;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n};"],
"names":["shadow$provide","global","require","module","exports","factory","define","amd","globalThis","self","vega","find","s","i","endChar","pushChar","popChar","n","length","count","c","indexOf","parseMerge","output","start","COMMA","push","substring","trim","parseSelector","RBRACK","LBRACK","b","slice","GT","map","stream","between","source","DEFAULT_SOURCE","throttle","markname","j","RBRACE","lastIndexOf","LBRACE","parseThrottle","e","NAME","COLON","filter","ILLEGAL","test","type","MARKS","marktype","consume","debounce","a","split","_","x","DEFAULT_MARKS","arc","area","group","image","line","path","rect","rule","shape","symbol","text","trail","eventSelector","selector","marks","VIEW","Object","defineProperty","value"]
}
