{
"version":3,
"file":"module$node_modules$vega_voronoi$build$vega_voronoi.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/vega-voronoi/build/vega-voronoi.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_voronoi$build$vega_voronoi\"] = function(global,require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-dataflow'), require('vega-util'), require('d3-delaunay')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-dataflow', 'vega-util', 'd3-delaunay'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.vega = global.vega || {}, global.vega.transforms = {}), global.vega, global.vega, global.d3));\n}(this, (function (exports, vegaDataflow, vegaUtil, d3Delaunay) { 'use strict';\n\n  function Voronoi(params) {\n    vegaDataflow.Transform.call(this, null, params);\n  }\n  Voronoi.Definition = {\n    'type': 'Voronoi',\n    'metadata': {\n      'modifies': true\n    },\n    'params': [{\n      'name': 'x',\n      'type': 'field',\n      'required': true\n    }, {\n      'name': 'y',\n      'type': 'field',\n      'required': true\n    }, {\n      'name': 'size',\n      'type': 'number',\n      'array': true,\n      'length': 2\n    }, {\n      'name': 'extent',\n      'type': 'array',\n      'array': true,\n      'length': 2,\n      'default': [[-1e5, -1e5], [1e5, 1e5]],\n      'content': {\n        'type': 'number',\n        'array': true,\n        'length': 2\n      }\n    }, {\n      'name': 'as',\n      'type': 'string',\n      'default': 'path'\n    }]\n  };\n  const defaultExtent = [-1e5, -1e5, 1e5, 1e5];\n  vegaUtil.inherits(Voronoi, vegaDataflow.Transform, {\n    transform(_, pulse) {\n      const as = _.as || 'path',\n            data = pulse.source; // nothing to do if no data\n\n      if (!data || !data.length) return pulse; // configure and construct voronoi diagram\n\n      let s = _.size;\n      s = s ? [0, 0, s[0], s[1]] : (s = _.extent) ? [s[0][0], s[0][1], s[1][0], s[1][1]] : defaultExtent;\n      const voronoi = this.value = d3Delaunay.Delaunay.from(data, _.x, _.y).voronoi(s); // map polygons to paths\n\n      for (let i = 0, n = data.length; i < n; ++i) {\n        const polygon = voronoi.cellPolygon(i);\n        data[i][as] = polygon ? toPathString(polygon) : null;\n      }\n\n      return pulse.reflow(_.modified()).modifies(as);\n    }\n\n  }); // suppress duplicated end point vertices\n\n  function toPathString(p) {\n    const x = p[0][0],\n          y = p[0][1];\n    let n = p.length - 1;\n\n    for (; p[n][0] === x && p[n][1] === y; --n);\n\n    return 'M' + p.slice(0, n + 1).join('L') + 'Z';\n  }\n\n  exports.voronoi = Voronoi;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n};"],
"names":["shadow$provide","global","require","module","exports","factory","define","amd","globalThis","self","vega","transforms","d3","vegaDataflow","vegaUtil","d3Delaunay","Voronoi","params","Transform","call","Definition","defaultExtent","inherits","transform","_","pulse","as","data","source","length","s","size","extent","voronoi","value","Delaunay","from","x","y","i","n","polygon","cellPolygon","p","slice","join","reflow","modified","modifies","Object","defineProperty"]
}
